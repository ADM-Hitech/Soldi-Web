(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"G+A0":function(t,e,c){"use strict";c.r(e),c.d(e,"RequestWithoutRfcModule",(function(){return Y}));var i=c("ofXK"),n=c("4TcP"),o=c("tyNb"),s=c("chLL"),a=c("tmTa"),r=c("xm3d"),l=c("fXoL"),b=c("tk/3"),u=c("7RFJ"),d=c("RL7/");let m=(()=>{class t{constructor(t,e,c){this.http=t,this.constant=e,this.auth=c}getRequests(){return this.http.get(this.constant.api+"Register")}getRequestOnlyRfc(){return this.http.get(this.constant.api+"Register/OnlyRfc")}deleteRequest(t){return this.http.post(this.constant.api+"Register/Delete",{ids:t})}sendNotification(t){return this.http.post(this.constant.api+"Register/SendNotification",{ids:t})}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(b.b),l.Wb(u.a),l.Wb(d.a))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=c("0DX0"),f=c("Xlwt"),p=c("TY1r"),R=c("G/Ji"),g=c("SSqQ"),S=c("1OTw"),w=c("znSr"),k=c("XiUz");function y(t,e){1&t&&(l.Sb(0,"div",29),l.Nb(1,"mat-spinner",30),l.Rb()),2&t&&(l.zb(1),l.kc("diameter",30))}function x(t,e){if(1&t){const t=l.Tb();l.Sb(0,"th",31),l.Sb(1,"mat-checkbox",32),l.ac("change",(function(e){l.yc(t);const c=l.ec();return e?c.masterToggle():null})),l.Rb(),l.Rb()}if(2&t){const t=l.ec();l.zb(1),l.kc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function J(t,e){if(1&t){const t=l.Tb();l.Sb(0,"td",33),l.Sb(1,"mat-checkbox",34),l.ac("click",(function(e){return l.yc(t),e.stopPropagation()}))("change",(function(c){l.yc(t);const i=e.$implicit,n=l.ec();return c?n.selection.toggle(i):null})),l.Rb(),l.Rb()}if(2&t){const t=e.$implicit,c=l.ec();l.zb(1),l.kc("checked",c.selection.isSelected(t))}}function H(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Nombre "),l.Rb())}function P(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.name," ")}}function v(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Apellido Paterno "),l.Rb())}function z(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.lastname," ")}}function C(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Apellido Materno "),l.Rb())}function D(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.mLastname," ")}}function L(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Numero de Empleado "),l.Rb())}function q(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.employeeNumber," ")}}function N(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," CURP "),l.Rb())}function A(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.curp," ")}}function T(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Empresa "),l.Rb())}function Q(t,e){1&t&&l.Nb(0,"td",33)}function $(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Correo "),l.Rb())}function E(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.email," ")}}function M(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Telefono "),l.Rb())}function F(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",t.phone," ")}}function O(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Fecha "),l.Rb())}function I(t,e){if(1&t&&(l.Sb(0,"td",33),l.Jc(1),l.fc(2,"date"),l.Rb()),2&t){const t=e.$implicit;l.zb(1),l.Lc(" ",l.hc(2,1,t.created_at,"dd/MM/yyyy")," ")}}function X(t,e){1&t&&(l.Sb(0,"th",31),l.Jc(1," Acciones "),l.Rb())}function j(t,e){1&t&&l.Nb(0,"mat-spinner",30),2&t&&l.kc("diameter",30)}function G(t,e){if(1&t){const t=l.Tb();l.Qb(0),l.Sb(1,"button",37),l.Sb(2,"mat-icon"),l.Jc(3,"more_vert"),l.Rb(),l.Rb(),l.Sb(4,"mat-menu",null,38),l.Sb(6,"button",39),l.ac("click",(function(){l.yc(t);const e=l.ec().$implicit;return l.ec().sendNotification(e.id)})),l.Jc(7,"Notificar"),l.Rb(),l.Sb(8,"button",39),l.ac("click",(function(){l.yc(t);const e=l.ec().$implicit;return l.ec().delete(e.id)})),l.Jc(9,"Eliminar"),l.Rb(),l.Rb(),l.Pb()}if(2&t){const t=l.uc(5);l.zb(1),l.kc("matMenuTriggerFor",t)}}function U(t,e){if(1&t&&(l.Sb(0,"td",33),l.Hc(1,j,1,1,"mat-spinner",35),l.Hc(2,G,10,1,"ng-container",36),l.Rb()),2&t){const t=e.$implicit,c=l.ec();l.zb(1),l.kc("ngIf",c.getProcessing(t.id)),l.zb(1),l.kc("ngIf",!c.getProcessing(t.id))}}function W(t,e){1&t&&l.Nb(0,"tr",40)}function B(t,e){1&t&&l.Nb(0,"tr",41)}const K=function(){return{"font-family":"MontserratBold"}},V=[{path:"",component:(()=>{class t{constructor(t,e){this.service=t,this.snackBar=e,this.data=new a.o([]),this.selection=new s.c(!0,[]),this.loading=!1,this.totalRow=0,this.columnsToDisplay=["select","name","lastname","mLastname","employeeNumber","curp","company","email","phone","date","edit"],this.listProccess=[],this.getRequest()}getRequest(){this.loading=!0,this.service.getRequests().subscribe(t=>{this.data=new a.o(null==t?void 0:t.data),this.loading=!1},t=>{this.loading=!1})}isAllSelected(){return this.selection.selected.length===this.data.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.data.data)}delete(t){let e=[];t?e.push(t):e=this.selection.selected.map(t=>t.id),this.listProccess=e,this.service.deleteRequest(e).subscribe(t=>{t.success?(this.showAlert("SUCCESS","Elementos Eliminados","success"),this.data.data=this.data.data.filter(t=>!e.includes(t.id))):this.showAlert("ERROR",t.message+", intentelo mas tarde","error"),this.listProccess=[]},t=>{this.showAlert("ERROR","Ocurrio un error, intentelo mas tarde","error"),this.listProccess=[]})}sendNotification(t){let e=[];t?e.push(t):e=this.selection.selected.map(t=>t.id),this.listProccess=e,this.service.sendNotification(e).subscribe(t=>{t.success?this.showAlert("SUCCESS","Se a enviado la notificaci\xf3n","success"):this.showAlert("ERROR",t.message+", intentelo mas tarde","error"),this.listProccess=[]},t=>{this.showAlert("ERROR","Ocurrio un error, intentelo mas tarde","error"),this.listProccess=[]})}getProcessing(t){return this.listProccess.filter(e=>e===t).length>0}showAlert(t,e,c){this.snackBar.openFromComponent(r.a,{data:{message:t,subMessage:e,type:c},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(m),l.Mb(h.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-request-without-rfc"]],decls:55,vars:8,consts:[[1,"container","module-container"],[1,"content-breadcrumbs"],[3,"ngStyle"],[1,"breadcrumbs"],[1,"content-table","mat-elevation-z3"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column","fxLayoutAlign","end center"],["fxFlex","30","fxFle.sm","100","fxFlex.xs","100","fxLayoutAlign","end center"],["fxLayoutGap","12px",1,"ctn-btn"],["mat-mini-fab","",3,"disabled","click"],[2,"color","white"],["id","contentTable",1,"table"],["class","content-loading",4,"ngIf"],["mat-table","",3,"dataSource"],["table",""],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastname"],["matColumnDef","mLastname"],["matColumnDef","employeeNumber"],["matColumnDef","curp"],["matColumnDef","company"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","date"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"content-loading"],[3,"diameter"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"diameter",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h1",2),l.Jc(3,"Solicitudes sin RFC"),l.Rb(),l.Sb(4,"div",3),l.Jc(5,"Snac > Solicitudes"),l.Rb(),l.Rb(),l.Sb(6,"div",4),l.Sb(7,"div",5),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"button",8),l.ac("click",(function(){return e.sendNotification()})),l.Sb(11,"mat-icon",9),l.Jc(12,"send"),l.Rb(),l.Rb(),l.Sb(13,"button",8),l.ac("click",(function(){return e.delete()})),l.Sb(14,"mat-icon",9),l.Jc(15,"delete"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(16,"div",10),l.Hc(17,y,2,1,"div",11),l.Sb(18,"table",12,13),l.Qb(20,14),l.Hc(21,x,2,2,"th",15),l.Hc(22,J,2,1,"td",16),l.Pb(),l.Qb(23,17),l.Hc(24,H,2,0,"th",15),l.Hc(25,P,2,1,"td",16),l.Pb(),l.Qb(26,18),l.Hc(27,v,2,0,"th",15),l.Hc(28,z,2,1,"td",16),l.Pb(),l.Qb(29,19),l.Hc(30,C,2,0,"th",15),l.Hc(31,D,2,1,"td",16),l.Pb(),l.Qb(32,20),l.Hc(33,L,2,0,"th",15),l.Hc(34,q,2,1,"td",16),l.Pb(),l.Qb(35,21),l.Hc(36,N,2,0,"th",15),l.Hc(37,A,2,1,"td",16),l.Pb(),l.Qb(38,22),l.Hc(39,T,2,0,"th",15),l.Hc(40,Q,1,0,"td",16),l.Pb(),l.Qb(41,23),l.Hc(42,$,2,0,"th",15),l.Hc(43,E,2,1,"td",16),l.Pb(),l.Qb(44,24),l.Hc(45,M,2,0,"th",15),l.Hc(46,F,2,1,"td",16),l.Pb(),l.Qb(47,25),l.Hc(48,O,2,0,"th",15),l.Hc(49,I,3,4,"td",16),l.Pb(),l.Qb(50,26),l.Hc(51,X,2,0,"th",15),l.Hc(52,U,3,2,"td",16),l.Pb(),l.Hc(53,W,1,0,"tr",27),l.Hc(54,B,1,0,"tr",28),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.zb(2),l.kc("ngStyle",l.nc(7,K)),l.zb(8),l.kc("disabled",e.selection.selected.length<=0),l.zb(3),l.kc("disabled",e.selection.selected.length<=0),l.zb(4),l.kc("ngIf",e.loading),l.zb(1),l.kc("dataSource",e.data),l.zb(35),l.kc("matHeaderRowDef",e.columnsToDisplay),l.zb(1),l.kc("matRowDefColumns",e.columnsToDisplay))},directives:[i.w,w.d,k.f,k.e,k.b,k.g,f.b,p.a,i.t,a.n,a.c,a.i,a.b,a.k,a.m,R.c,a.h,g.a,a.a,S.d,S.e,S.b,a.j,a.l],pipes:[i.f],styles:["app-request-without-rfc .container{padding:25px}app-request-without-rfc .content-breadcrumbs h1{color:#41434c;font-size:27px}app-request-without-rfc .content-table{margin-top:25px;background-color:#fff;padding:20px;height:calc(100% - 92px);border-top-left-radius:10px;border-top-right-radius:10px}@media (max-width:959px){app-request-without-rfc .content-table{height:auto;border-top-left-radius:10px;border-top-right-radius:10px}}app-request-without-rfc .content-table .table{margin-top:25px;overflow:auto!important;position:relative;height:calc(100% - 55px)}app-request-without-rfc .content-table .table .content-loading{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);z-index:101}app-request-without-rfc .content-table .table table{width:100%;border-radius:5px;border:1px solid #cacee6}app-request-without-rfc .content-table .table table tr.back-color-row{background-color:#f9f9f9}"],encapsulation:2}),t})()}];let _=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(V)],o.h]}),t})(),Y=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},providers:[m],imports:[[i.c,n.a,_]]}),t})()}}]);