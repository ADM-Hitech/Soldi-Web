function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"G+A0":function(t,e,n){"use strict";n.r(e),n.d(e,"RequestWithoutRfcModule",(function(){return nt}));var i,c=n("ofXK"),a=n("4TcP"),o=n("tyNb"),r=n("chLL"),s=n("tmTa"),l=n("xm3d"),u=n("fXoL"),b=n("tk/3"),d=n("7RFJ"),f=n("RL7/"),m=((i=function(){function t(e,n,i){_classCallCheck(this,t),this.http=e,this.constant=n,this.auth=i}return _createClass(t,[{key:"getRequests",value:function(){return this.http.get(this.constant.api+"Register")}},{key:"getRequestOnlyRfc",value:function(){return this.http.get(this.constant.api+"Register/OnlyRfc")}},{key:"deleteRequest",value:function(t){return this.http.post(this.constant.api+"Register/Delete",{ids:t})}},{key:"sendNotification",value:function(t){return this.http.post(this.constant.api+"Register/SendNotification",{ids:t})}}]),t}()).\u0275fac=function(t){return new(t||i)(u.Wb(b.b),u.Wb(d.a),u.Wb(f.a))},i.\u0275prov=u.Ib({token:i,factory:i.\u0275fac,providedIn:"root"}),i),h=n("0DX0"),p=n("Xlwt"),y=n("TY1r"),g=n("G/Ji"),R=n("SSqQ"),S=n("1OTw"),v=n("znSr"),k=n("XiUz");function w(t,e){1&t&&(u.Sb(0,"div",29),u.Nb(1,"mat-spinner",30),u.Rb()),2&t&&(u.zb(1),u.kc("diameter",30))}function C(t,e){if(1&t){var n=u.Tb();u.Sb(0,"th",31),u.Sb(1,"mat-checkbox",32),u.ac("change",(function(t){u.yc(n);var e=u.ec();return t?e.masterToggle():null})),u.Rb(),u.Rb()}if(2&t){var i=u.ec();u.zb(1),u.kc("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())}}function x(t,e){if(1&t){var n=u.Tb();u.Sb(0,"td",33),u.Sb(1,"mat-checkbox",34),u.ac("click",(function(t){return u.yc(n),t.stopPropagation()}))("change",(function(t){u.yc(n);var i=e.$implicit,c=u.ec();return t?c.selection.toggle(i):null})),u.Rb(),u.Rb()}if(2&t){var i=e.$implicit,c=u.ec();u.zb(1),u.kc("checked",c.selection.isSelected(i))}}function A(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Nombre "),u.Rb())}function P(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.name," ")}}function H(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Apellido Paterno "),u.Rb())}function J(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.lastname," ")}}function z(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Apellido Materno "),u.Rb())}function _(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.mLastname," ")}}function T(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Numero de Empleado "),u.Rb())}function L(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.employeeNumber," ")}}function D(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," CURP "),u.Rb())}function q(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.curp," ")}}function N(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Empresa "),u.Rb())}function I(t,e){1&t&&u.Nb(0,"td",33)}function $(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Correo "),u.Rb())}function E(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.email," ")}}function O(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Telefono "),u.Rb())}function Q(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",n.phone," ")}}function M(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Fecha "),u.Rb())}function j(t,e){if(1&t&&(u.Sb(0,"td",33),u.Jc(1),u.fc(2,"date"),u.Rb()),2&t){var n=e.$implicit;u.zb(1),u.Lc(" ",u.hc(2,1,n.created_at,"dd/MM/yyyy")," ")}}function F(t,e){1&t&&(u.Sb(0,"th",31),u.Jc(1," Acciones "),u.Rb())}function W(t,e){1&t&&u.Nb(0,"mat-spinner",30),2&t&&u.kc("diameter",30)}function U(t,e){if(1&t){var n=u.Tb();u.Qb(0),u.Sb(1,"button",37),u.Sb(2,"mat-icon"),u.Jc(3,"more_vert"),u.Rb(),u.Rb(),u.Sb(4,"mat-menu",null,38),u.Sb(6,"button",39),u.ac("click",(function(){u.yc(n);var t=u.ec().$implicit;return u.ec().sendNotification(t.id)})),u.Jc(7,"Notificar"),u.Rb(),u.Sb(8,"button",39),u.ac("click",(function(){u.yc(n);var t=u.ec().$implicit;return u.ec().delete(t.id)})),u.Jc(9,"Eliminar"),u.Rb(),u.Rb(),u.Pb()}if(2&t){var i=u.uc(5);u.zb(1),u.kc("matMenuTriggerFor",i)}}function X(t,e){if(1&t&&(u.Sb(0,"td",33),u.Hc(1,W,1,1,"mat-spinner",35),u.Hc(2,U,10,1,"ng-container",36),u.Rb()),2&t){var n=e.$implicit,i=u.ec();u.zb(1),u.kc("ngIf",i.getProcessing(n.id)),u.zb(1),u.kc("ngIf",!i.getProcessing(n.id))}}function G(t,e){1&t&&u.Nb(0,"tr",40)}function B(t,e){1&t&&u.Nb(0,"tr",41)}var K,V,Y,Z=function(){return{"font-family":"MontserratBold"}},tt=[{path:"",component:(K=function(){function t(e,n){_classCallCheck(this,t),this.service=e,this.snackBar=n,this.data=new s.o([]),this.selection=new r.c(!0,[]),this.loading=!1,this.totalRow=0,this.columnsToDisplay=["select","name","lastname","mLastname","employeeNumber","curp","company","email","phone","date","edit"],this.listProccess=[],this.getRequest()}return _createClass(t,[{key:"getRequest",value:function(){var t=this;this.loading=!0,this.service.getRequests().subscribe((function(e){t.data=new s.o(null==e?void 0:e.data),t.loading=!1}),(function(e){t.loading=!1}))}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.data.data.length}},{key:"masterToggle",value:function(){var t;this.isAllSelected()?this.selection.clear():(t=this.selection).select.apply(t,_toConsumableArray(this.data.data))}},{key:"delete",value:function(t){var e=this,n=[];t?n.push(t):n=this.selection.selected.map((function(t){return t.id})),this.listProccess=n,this.service.deleteRequest(n).subscribe((function(t){t.success?(e.showAlert("SUCCESS","Elementos Eliminados","success"),e.data.data=e.data.data.filter((function(t){return!n.includes(t.id)}))):e.showAlert("ERROR",t.message+", intentelo mas tarde","error"),e.listProccess=[]}),(function(t){e.showAlert("ERROR","Ocurrio un error, intentelo mas tarde","error"),e.listProccess=[]}))}},{key:"sendNotification",value:function(t){var e=this,n=[];t?n.push(t):n=this.selection.selected.map((function(t){return t.id})),this.listProccess=n,this.service.sendNotification(n).subscribe((function(t){t.success?e.showAlert("SUCCESS","Se a enviado la notificaci\xf3n","success"):e.showAlert("ERROR",t.message+", intentelo mas tarde","error"),e.listProccess=[]}),(function(t){e.showAlert("ERROR","Ocurrio un error, intentelo mas tarde","error"),e.listProccess=[]}))}},{key:"getProcessing",value:function(t){return this.listProccess.filter((function(e){return e===t})).length>0}},{key:"showAlert",value:function(t,e,n){this.snackBar.openFromComponent(l.a,{data:{message:t,subMessage:e,type:n},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500})}}]),t}(),K.\u0275fac=function(t){return new(t||K)(u.Mb(m),u.Mb(h.b))},K.\u0275cmp=u.Gb({type:K,selectors:[["app-request-without-rfc"]],decls:55,vars:8,consts:[[1,"container","module-container"],[1,"content-breadcrumbs"],[3,"ngStyle"],[1,"breadcrumbs"],[1,"content-table","mat-elevation-z3"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column","fxLayoutAlign","end center"],["fxFlex","30","fxFle.sm","100","fxFlex.xs","100","fxLayoutAlign","end center"],["fxLayoutGap","12px",1,"ctn-btn"],["mat-mini-fab","",3,"disabled","click"],[2,"color","white"],["id","contentTable",1,"table"],["class","content-loading",4,"ngIf"],["mat-table","",3,"dataSource"],["table",""],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastname"],["matColumnDef","mLastname"],["matColumnDef","employeeNumber"],["matColumnDef","curp"],["matColumnDef","company"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","date"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"content-loading"],[3,"diameter"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"diameter",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"h1",2),u.Jc(3,"Solicitudes sin RFC"),u.Rb(),u.Sb(4,"div",3),u.Jc(5,"Snac > Solicitudes"),u.Rb(),u.Rb(),u.Sb(6,"div",4),u.Sb(7,"div",5),u.Sb(8,"div",6),u.Sb(9,"div",7),u.Sb(10,"button",8),u.ac("click",(function(){return e.sendNotification()})),u.Sb(11,"mat-icon",9),u.Jc(12,"send"),u.Rb(),u.Rb(),u.Sb(13,"button",8),u.ac("click",(function(){return e.delete()})),u.Sb(14,"mat-icon",9),u.Jc(15,"delete"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(16,"div",10),u.Hc(17,w,2,1,"div",11),u.Sb(18,"table",12,13),u.Qb(20,14),u.Hc(21,C,2,2,"th",15),u.Hc(22,x,2,1,"td",16),u.Pb(),u.Qb(23,17),u.Hc(24,A,2,0,"th",15),u.Hc(25,P,2,1,"td",16),u.Pb(),u.Qb(26,18),u.Hc(27,H,2,0,"th",15),u.Hc(28,J,2,1,"td",16),u.Pb(),u.Qb(29,19),u.Hc(30,z,2,0,"th",15),u.Hc(31,_,2,1,"td",16),u.Pb(),u.Qb(32,20),u.Hc(33,T,2,0,"th",15),u.Hc(34,L,2,1,"td",16),u.Pb(),u.Qb(35,21),u.Hc(36,D,2,0,"th",15),u.Hc(37,q,2,1,"td",16),u.Pb(),u.Qb(38,22),u.Hc(39,N,2,0,"th",15),u.Hc(40,I,1,0,"td",16),u.Pb(),u.Qb(41,23),u.Hc(42,$,2,0,"th",15),u.Hc(43,E,2,1,"td",16),u.Pb(),u.Qb(44,24),u.Hc(45,O,2,0,"th",15),u.Hc(46,Q,2,1,"td",16),u.Pb(),u.Qb(47,25),u.Hc(48,M,2,0,"th",15),u.Hc(49,j,3,4,"td",16),u.Pb(),u.Qb(50,26),u.Hc(51,F,2,0,"th",15),u.Hc(52,X,3,2,"td",16),u.Pb(),u.Hc(53,G,1,0,"tr",27),u.Hc(54,B,1,0,"tr",28),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.zb(2),u.kc("ngStyle",u.nc(7,Z)),u.zb(8),u.kc("disabled",e.selection.selected.length<=0),u.zb(3),u.kc("disabled",e.selection.selected.length<=0),u.zb(4),u.kc("ngIf",e.loading),u.zb(1),u.kc("dataSource",e.data),u.zb(35),u.kc("matHeaderRowDef",e.columnsToDisplay),u.zb(1),u.kc("matRowDefColumns",e.columnsToDisplay))},directives:[c.w,v.d,k.f,k.e,k.b,k.g,p.b,y.a,c.t,s.n,s.c,s.i,s.b,s.k,s.m,g.c,s.h,R.a,s.a,S.d,S.e,S.b,s.j,s.l],pipes:[c.f],styles:["app-request-without-rfc .container{padding:25px}app-request-without-rfc .content-breadcrumbs h1{color:#41434c;font-size:27px}app-request-without-rfc .content-table{margin-top:25px;background-color:#fff;padding:20px;height:calc(100% - 92px);border-top-left-radius:10px;border-top-right-radius:10px}@media (max-width:959px){app-request-without-rfc .content-table{height:auto;border-top-left-radius:10px;border-top-right-radius:10px}}app-request-without-rfc .content-table .table{margin-top:25px;overflow:auto!important;position:relative;height:calc(100% - 55px)}app-request-without-rfc .content-table .table .content-loading{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);z-index:101}app-request-without-rfc .content-table .table table{width:100%;border-radius:5px;border:1px solid #cacee6}app-request-without-rfc .content-table .table table tr.back-color-row{background-color:#f9f9f9}"],encapsulation:2}),K)}],et=((Y=function t(){_classCallCheck(this,t)}).\u0275mod=u.Kb({type:Y}),Y.\u0275inj=u.Jb({factory:function(t){return new(t||Y)},imports:[[o.h.forChild(tt)],o.h]}),Y),nt=((V=function t(){_classCallCheck(this,t)}).\u0275mod=u.Kb({type:V}),V.\u0275inj=u.Jb({factory:function(t){return new(t||V)},providers:[m],imports:[[c.c,a.a,et]]}),V)}}]);