(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+ti9":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var a=i("wd/R"),n=i("lJxs"),o=i("fXoL"),r=i("tk/3"),s=i("7RFJ"),l=i("RL7/");let c=(()=>{class t{constructor(t,e,i){this.http=t,this.constant=e,this.auth=i}getMyAdvances(){return this.http.get(`${this.constant.api}Advances/GetByAccredited/${this.auth.id}`)}calculateAdvance(t){const e=new FormData;return e.append("amount","0"),e.append("PaySheetsJson",JSON.stringify(t.map(t=>t.toJson()))),t.forEach(t=>{e.append(t.uuid,t.file)}),this.http.post(this.constant.api+"Advances/CalculateAdvance",e).pipe(Object(n.a)(t=>{var e,i;return(null===(i=null===(e=t.data)||void 0===e?void 0:e.advance)||void 0===i?void 0:i.maximum_Amount)||0}))}preAdvance(t,e){const i=new FormData;return i.append("amount",e.toString()),i.append("PaySheetsJson",JSON.stringify(t.map(t=>t.toJson()))),t.forEach(t=>{i.append(t.uuid,t.file)}),this.http.post(this.constant.api+"Advances/CalculateAdvance",i)}getInfoBank(){return this.http.get(this.constant.api+"Users/GetUser")}uploadPaySheet(t){return this.http.post(this.constant.apiBinaria+"ocr/api/OCROnline/OCRNomina",{imageID:t},{headers:{"Ocp-Apim-Subscription-Key":this.constant.tokenBinariaOCR,"content-type":"application/json"}})}syncIneAccredited(t,e,i){const n=a(t.birthDate),o=new FormData;return o.append("Name",t.name),o.append("LastName",t.lastName),o.append("Curp",t.curp),o.append("BirthDate",n.isValid?n.format("yyyy/MM/dd"):"1800/01/01"),o.append("Address",t.address),o.append("ClaveElector",t.claveElector),o.append("ClaveElectorBack",e.claveElector),o.append("Meta",t.meta),o.append("AccreditedId",i.toString()),o.append("File",t.file),o.append("FileBack",e.file),this.http.post(this.constant.api+"BinariaFiles/IneAccount",o)}syncStatusAccount(t,e){const i=new FormData;return i.append("KeyAccount",t.keyAccount),i.append("Address",t.address),i.append("Name",t.name),i.append("Periodo",t.periodo),i.append("Rfc",t.rfc),i.append("NameBank",t.nameBank),i.append("BusinessNameBank",t.businesNameBank),i.append("NumberAccount",t.numberAccount),i.append("AccreditedId",e.toString()),i.append("Meta",t.meta),i.append("File",t.file),this.http.post(this.constant.api+"BinariaFiles/StatusAccount",i)}syncPaysheet(t,e){const i=new FormData;return i.append("AccreditedId",e.toString()),i.append("PaySheetsJson",JSON.stringify(t.map(t=>t.toJson()))),t.forEach(t=>{i.append(t.uuid,t.file)}),this.http.post(this.constant.api+"BinariaFiles/Paysheet",i)}requestAdvance(t,e){const i=new FormData;return i.append("amount",t.toString()),i.append("PaySheetsJson",JSON.stringify(e.map(t=>t.toJson()))),e.forEach(t=>{i.append(t.uuid,t.file)}),this.http.post(this.constant.api+"Advances",i)}syncSelfie(t,e){const i=new FormData;return i.append("AccreditedId",e.toString()),i.append("URL1",t.URL1),this.http.post(this.constant.api+"BinariaFiles/Selfie",i)}completeUploadFiles(t){return this.http.put(this.constant.api+"BinariaFiles/CompleteUploadFiles",{id:t})}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(r.b),o.Wb(s.a),o.Wb(l.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"1yaQ":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return c}));var a=i("fXoL"),n=i("j14s"),o=i("wd/R");const r=i.n(o).a||o,s=new a.q("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function l(t,e){const i=Array(t);for(let a=0;a<t;a++)i[a]=e(a);return i}let c=(()=>{class t extends n.c{constructor(t,e){super(),this._options=e,this.setLocale(t||r.locale())}setLocale(t){super.setLocale(t);let e=r.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:l(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,i){const a=this._createMoment({year:t,month:e,date:i}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){return t=this.clone(t),this.isValid(t),t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,r.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return r.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return r.invalid()}_createMoment(t,e,i){const{strict:a,useUtc:n}=this._options||{};return n?r.utc(t,e,i,a):r(t,e,i,a)}}return t.\u0275fac=function(e){return new(e||t)(a.Wb(n.g,8),a.Wb(s,8))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac}),t})()},"4/4Q":function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var a=i("LcAk"),n=i("wd/R");class o{constructor(){this.toJson=()=>({UUID:this.uuid,Name:this.name,Rfc:this.rfc,Curp:this.curp,Nss:this.nss,DateInitial:n(this.dateInitial).format("YYYY-MM-DD"),DateFinish:n(this.dateFinish).format("YYYY-MM-DD"),Neto:this.neto.toString(),Total:this.total.toString(),Meta:this.meta})}static fromJson(t){var e,i,a,r,s,l,c,d,p,u,b=new o;return b.name=null!==(e=t.nombre)&&void 0!==e?e:"",b.rfc=null!==(i=t.rfc)&&void 0!==i?i:"",b.curp=null!==(a=t.curp)&&void 0!==a?a:"",b.nss=null!==(r=t.nss)&&void 0!==r?r:"",b.dateInitial=n(null!==(s=t.fechainicio)&&void 0!==s?s:"","DD/MM/YYYY").toDate(),b.dateFinish=n(null!==(l=t.fechafin)&&void 0!==l?l:"","DD/MM/YYYY").toDate(),b.neto=null!==(d=parseFloat((null!==(c=t.netonomina)&&void 0!==c?c:"0").replace(",","").replace("$","")))&&void 0!==d?d:0,b.total=null!==(u=parseFloat((null!==(p=t.netopagar)&&void 0!==p?p:"0").replace(",","").replace("$","")))&&void 0!==u?u:0,b.meta=JSON.stringify(t),b}}class r{static formatDate(t){return n(t).format("dd/MM/yyyy")}}var s=i("xm3d"),l=i("fXoL"),c=i("TY1r"),d=i("0DX0"),p=i("J0hL"),u=i("Xlwt"),b=i("G/Ji"),m=i("jhN1"),f=i("RL7/"),h=i("XiUz"),g=i("ofXK"),v=i("znSr");const y=["boxInput"],R=["inputFile"];function S(t,e){1&t&&(l.Sb(0,"button",14),l.Sb(1,"mat-icon"),l.Jc(2,"close"),l.Rb(),l.Rb()),2&t&&l.kc("mat-dialog-close",!1)}function F(t,e){if(1&t&&(l.Qb(0),l.Sb(1,"div",16),l.Sb(2,"mat-icon",17),l.Jc(3,"remove_circle_outline"),l.Rb(),l.Sb(4,"span"),l.Jc(5),l.fc(6,"date"),l.fc(7,"date"),l.Rb(),l.Sb(8,"mat-icon",18),l.Jc(9,"done"),l.Rb(),l.Rb(),l.Pb()),2&t){const t=l.ec().$implicit,e=l.ec();l.zb(5),l.Mc("",l.hc(6,2,e.listFiles[t-1].dateInitial,"dd/MM/yyyy")," - ",l.hc(7,5,e.listFiles[t-1].dateFinish,"dd/MM/yyyy"),"")}}function I(t,e){1&t&&(l.Qb(0),l.Sb(1,"div",19),l.Sb(2,"mat-icon",17),l.Jc(3,"file_copy"),l.Rb(),l.Sb(4,"span"),l.Jc(5,"Archivo"),l.Rb(),l.Sb(6,"mat-icon",18),l.Jc(7,"schedule"),l.Rb(),l.Rb(),l.Pb())}function k(t,e){if(1&t&&(l.Qb(0),l.Hc(1,F,10,8,"ng-container",15),l.Hc(2,I,8,0,"ng-container",15),l.Pb()),2&t){const t=e.$implicit,i=l.ec();l.zb(1),l.kc("ngIf",!!i.listFiles[t-1]),l.zb(1),l.kc("ngIf",!i.listFiles[t-1])}}function x(t,e){1&t&&(l.Sb(0,"div",28),l.Nb(1,"mat-spinner",29),l.Rb()),2&t&&(l.zb(1),l.kc("diameter",30))}function D(t,e){if(1&t&&(l.Sb(0,"div",20),l.Sb(1,"div",21,22),l.Nb(3,"mat-icon",23),l.Nb(4,"br"),l.Nb(5,"input",24,25),l.Sb(7,"label",26),l.Jc(8,"Subir (formatos: jpg, jpeg, png, pdf)"),l.Rb(),l.Rb(),l.Hc(9,x,2,1,"div",27),l.Rb()),2&t){const t=l.ec();l.zb(9),l.kc("ngIf",t.uploadingFile)}}const E=function(){return{"font-family":"MontserratBold"}};let M=(()=>{class t{constructor(t,e,i,a,n,o){this.dialogRef=t,this.data=e,this.matIconRegistry=i,this.domSanitizer=a,this.auth=n,this.snackBar=o,this.totalFilesRequire=1,this.listFiles=[],this.uploadingFile=!1,this.dialogRef.disableClose=!0,this.matIconRegistry.addSvgIcon("uploadPayRollReceipt",this.domSanitizer.bypassSecurityTrustResourceUrl("../../../../assets/icons/ico-recibo-nomina.svg")),this.matIconRegistry.addSvgIcon("logoUpload",this.domSanitizer.bypassSecurityTrustResourceUrl("../../../../../assets/icons/ico-subir-archivo.svg"))}get closeModal(){return!this.data.onlyOne}get message(){return this.data.onlyOne?"Sube tu \xdaltimo Recibo de N\xf3mina":"Suba sus recibos de su ultimo mes de pago"}ngAfterViewInit(){this.boxInput.nativeElement.addEventListener("click",t=>{this.inputFile.nativeElement.click()}),this.inputFile.nativeElement.addEventListener("change",t=>{this.deleteDefaultEvent(t);const e=t.target.files;if(e.length>0){const t=new FileReader;t.onload=i=>{this.uploadingFile=!0,this.data.service.uploadPaySheet(t.result.toString()).subscribe(t=>{this.profilePaySheet(t,e[0])},t=>{this.uploadingFile=!1,this.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:"Error al procesar el archivo, o su recibo de nomina es incorrecto",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500})},()=>this.uploadingFile=!1)},t.readAsDataURL(e[0])}}),this.boxInput.nativeElement.addEventListener("drag",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("dragstart",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("dragend",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("dragover",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("dragenter",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("dragleave",t=>{this.deleteDefaultEvent(t)}),this.boxInput.nativeElement.addEventListener("drop",t=>{this.deleteDefaultEvent(t);const e=t.dataTransfer.files;if(e.length>0){const t=new FileReader;t.onload=i=>{this.uploadingFile=!0,this.data.service.uploadPaySheet(t.result.toString()).subscribe(t=>{this.profilePaySheet(t,e[0])},t=>{this.uploadingFile=!1,this.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:"Error al procesar el archivo, o su recibo de nomina es incorrecto",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500})},()=>this.uploadingFile=!1)},t.readAsDataURL(e[0])}})}get numberFilesRequire(){return Array.from({length:this.totalFilesRequire},(t,e)=>e+1)}deleteDefaultEvent(t){t.preventDefault(),t.stopPropagation()}profilePaySheet(t,e){const i=o.fromJson(t);console.log("Invalid Date"===i.dateFinish.toString());var a="Invalid Date"===i.dateFinish.toString(),s="Invalid Date"===i.dateInitial.toString(),l=null===i.total||0===i.total,c=null===i.neto||0===i.neto;if(a||s)return void this.showMessage("ERROR","El documento tiene una fecha no valida","error");if(l||c)return void this.showMessage("ERROR","El total no es valido","error");const d=n(),p=n(i.dateInitial),u=n(i.dateFinish),b=d.diff(p,"days"),m=u.diff(p,"days"),f=t.rfc,h=this.data.rfc||this.auth.rfc;this.countRequired(m),b>38?this.showMessage("ERROR","El documento no pertenece al ultimo periodo","error"):this.listFiles.some(e=>r.formatDate(e.dateInitial)===r.formatDate(t.fechainicio)&&r.formatDate(e.dateFinish)===r.formatDate(t.fechafin))?this.showMessage("ERROR","El periodo ya fue agregado","error"):h.substring(0,h.length>7?8:0).toLowerCase()===f.substring(0,f.length>7?8:0).toLowerCase()?(i.uuid=Date.now().toString(),i.file=e,this.listFiles.push(i),this.listFiles.sort((t,e)=>t.dateInitial>e.dateInitial?1:0)):this.showMessage("ERROR","El documento tiene un rfc distinto al del usuario","error")}countRequired(t){t<=6?this.totalFilesRequire=4:t>6&&t<=16&&(this.totalFilesRequire=2),this.data.onlyOne&&(this.totalFilesRequire=1)}continue(){this.listFiles.length===this.totalFilesRequire&&this.dialogRef.close(this.listFiles)}showMessage(t,e,i){this.snackBar.openFromComponent(s.a,{data:{message:t,subMessage:e,type:i},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500})}}return t.\u0275fac=function(e){return new(e||t)(l.Mb(a.h),l.Mb(a.a),l.Mb(c.c),l.Mb(m.b),l.Mb(f.a),l.Mb(d.b))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-upload-payroll-receipt"]],viewQuery:function(t,e){var i;1&t&&(l.Oc(y,!0),l.Oc(R,!0)),2&t&&(l.tc(i=l.bc())&&(e.boxInput=i.first),l.tc(i=l.bc())&&(e.inputFile=i.first))},decls:17,vars:7,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title",3,"ngStyle"],["mat-button","","class","toggle-button-navbar mat-icon-button",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-content","",1,"pl-25","pr-25","m-0"],[1,"cnt-icon"],["svgIcon","uploadPayRollReceipt"],[1,"label"],[1,"cnt-files"],[4,"ngFor","ngForOf"],["class","content-upload-file",4,"ngIf"],["mat-dialog-actions","","fxLayoutAlign","center center",1,"m-0"],["mat-button","",1,"btn",3,"disabled","click"],["mat-button","",1,"toggle-button-navbar","mat-icon-button",3,"mat-dialog-close"],[4,"ngIf"],[1,"item-file","active"],[1,"left"],[1,"rigth"],[1,"item-file"],[1,"content-upload-file"],[1,"box-input"],["boxInput",""],["svgIcon","logoUpload",1,"icon-upload"],["type","file","id","file",1,"input-file"],["inputFile",""],["for","file"],["class","loadingUpload",4,"ngIf"],[1,"loadingUpload"],[3,"diameter"]],template:function(t,e){1&t&&(l.Sb(0,"div",0),l.Sb(1,"mat-toolbar",1),l.Sb(2,"div",2),l.Sb(3,"span",3),l.Jc(4,"Recibo de N\xf3mina"),l.Rb(),l.Hc(5,S,3,1,"button",4),l.Rb(),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"div",6),l.Nb(8,"mat-icon",7),l.Rb(),l.Sb(9,"p",8),l.Jc(10),l.Rb(),l.Sb(11,"div",9),l.Hc(12,k,3,2,"ng-container",10),l.Rb(),l.Hc(13,D,10,1,"div",11),l.Rb(),l.Sb(14,"div",12),l.Sb(15,"button",13),l.ac("click",(function(){return e.continue()})),l.Jc(16,"CONTINUAR"),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.zb(3),l.kc("ngStyle",l.nc(6,E)),l.zb(2),l.kc("ngIf",e.closeModal),l.zb(5),l.Kc(e.message),l.zb(2),l.kc("ngForOf",e.numberFilesRequire),l.zb(1),l.kc("ngIf",e.listFiles.length!==e.totalFilesRequire),l.zb(2),l.kc("disabled",e.uploadingFile||e.listFiles.length!==e.totalFilesRequire))},directives:[p.a,a.i,h.b,h.f,h.e,g.w,v.d,g.t,a.f,c.a,g.s,a.c,u.b,a.d,b.c],pipes:[g.f],styles:["app-upload-payroll-receipt .cnt-icon{text-align:center;margin-top:30px}app-upload-payroll-receipt .cnt-icon .mat-icon{font-size:60px;width:60px;height:60px}app-upload-payroll-receipt .cnt-icon .mat-icon svg{fill:#41434c}app-upload-payroll-receipt .label{color:grey}app-upload-payroll-receipt .cnt-files{margin-top:36px;margin-bottom:36px}app-upload-payroll-receipt .cnt-files .item-file{display:flex;justify-content:center;align-items:center;gap:24px;margin-bottom:12px}app-upload-payroll-receipt .cnt-files .item-file:last-child{margin-bottom:0}app-upload-payroll-receipt .cnt-files .item-file:not(.active){opacity:.5}app-upload-payroll-receipt .cnt-files .item-file.active .left{color:red}app-upload-payroll-receipt .cnt-files .item-file.active span{color:#41434c}app-upload-payroll-receipt .cnt-files .item-file.active .rigth{color:green}app-upload-payroll-receipt .content-upload-file{position:relative}app-upload-payroll-receipt .content-upload-file .box-input{text-align:center;outline:2px dashed #92b0b3;outline-offset:-10px;transition:outline-offset .15s ease-in-out,background-color .15s linear;font-size:1.25rem;position:relative;padding:50px 20px}app-upload-payroll-receipt .content-upload-file .box-input label{color:#a6a6a6;font-size:15px}app-upload-payroll-receipt .content-upload-file .box-input .input-file{width:100%;opacity:0;overflow:hidden;position:absolute;z-index:-1}app-upload-payroll-receipt .content-upload-file .box-input .icon-upload{display:contents;color:#32379e}app-upload-payroll-receipt .content-upload-file .box-input .icon-upload svg{width:60px;height:60px}app-upload-payroll-receipt .content-upload-file .loadingUpload{position:absolute;width:100%;height:100%;top:0;background-color:hsla(0,0%,100%,.84);display:flex;justify-content:center;align-items:center}app-upload-payroll-receipt .btn{background-color:#41434c;color:#fff;border-radius:20px;margin-bottom:12px}app-upload-payroll-receipt .btn:disabled{color:#fff!important;opacity:.5}"],encapsulation:2}),t})()},PbJI:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("lJxs"),n=i("fXoL"),o=i("tk/3"),r=i("7RFJ");let s=(()=>{class t{constructor(t,e){this.http=t,this.constant=e}fetchPeriodic(){return this.http.get(this.constant.api+"Periods/GetByType?type=1")}fetchTableInvestors(t=1,e=20,i=""){return this.http.post(this.constant.api+"Investors/GetInvestors",{page:t,numRecord:e,filter:i})}newCallCapital(t){return this.http.post(this.constant.api+"Capitals",t)}fetchFile(t){return this.http.get(this.constant.api+"Investors/GetFile?type="+t,{responseType:"blob"}).pipe(Object(a.a)(e=>({filename:1===t?"Inversionistas.xlsx":"Inversionistas.pdf",data:e})))}fetchFileMyInvestment(t){return this.http.get(this.constant.api+"Capitals/ExportMyInvestment?type="+t,{responseType:"blob"}).pipe(Object(a.a)(e=>({filename:1===t?"MisInversiones.xlsx":"MisInversiones.pdf",data:e})))}delete(t,e){return this.http.put(this.constant.api+"Administrative/ChangeStatusUser",{userid:t,type:e,IsDelete:!0})}getBanks(){return this.http.get(this.constant.api+"Institutions/GetList")}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(o.b),n.Wb(r.a))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},RiJK:function(t,e,i){"use strict";function a(t){return new RegExp(/^(\d+)?$/m).exec(t.value)?null:{isNotNumber:!0}}function n(t){const e=new RegExp(/^(\d+)?$/m);return t.value&&!e.exec(t.value)?{isNotNumber:!0}:null}i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}))},Y4ud:function(t,e,i){"use strict";i.d(e,"a",(function(){return q}));var a=i("LcAk"),n=i("3Pt+"),o=i("xm3d"),r=i("fXoL"),s=i("0DX0"),l=i("J0hL"),c=i("Xlwt"),d=i("TY1r"),p=i("IRfi"),u=i("A2Vd"),b=i("/o1g"),m=i("2+6u"),f=i("SSqQ"),h=i("tk/3"),g=i("7RFJ"),v=i("XiUz"),y=i("ofXK"),R=i("znSr"),S=i("TnAc"),F=i("j14s");function I(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El nombre es requerido "),r.Rb())}function k(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El apellido es requerido "),r.Rb())}function x(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El mail es requerido "),r.Rb())}function D(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," Por favor ingresa un mail valido "),r.Rb())}function E(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El monto total pactado es requerido "),r.Rb())}function M(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," La fecha es requerida "),r.Rb())}function N(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," La fecha es requerida "),r.Rb())}function _(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El rfc es requerido "),r.Rb())}function A(t,e){if(1&t&&(r.Sb(0,"mat-option",38),r.Jc(1),r.Rb()),2&t){const t=e.$implicit;r.kc("value",t.id),r.zb(1),r.Kc(t.description)}}function w(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El banco es requerido "),r.Rb())}function J(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," La clabe es requerida "),r.Rb())}function C(t,e){1&t&&(r.Sb(0,"mat-error"),r.Jc(1," El n\xfamero de cuenta es requerido "),r.Rb())}const L=function(){return{"font-family":"MontserratBold"}};let q=(()=>{class t{constructor(t,e,i,a,o,r){var s,l,c,d,p,u,b,m,f,h,g,v,y,R,S;this.dialogRef=t,this.formBuilder=e,this.http=i,this.snackBar=a,this.constant=o,this.data=r,this.loading=!1,this.formErrors={first_Name:{},last_Name:{},total_Amount_Agreed:{},start_Date_Prestaqi:{},limit_Date:{},rfc:{},institution_Id:{},clabe:{},account_Number:{},is_Moral_Person:{},mail:{}},this.formGroup=this.formBuilder.group({id:[null===(s=null==r?void 0:r.user)||void 0===s?void 0:s.id,n.F.required],first_Name:[null===(l=null==r?void 0:r.user)||void 0===l?void 0:l.first_Name,n.F.required],last_Name:[null===(c=null==r?void 0:r.user)||void 0===c?void 0:c.last_Name,n.F.required],total_Amount_Agreed:[null===(d=null==r?void 0:r.user)||void 0===d?void 0:d.total_Amount_Agreed,[n.F.required,n.F.pattern("^\\d*$")]],start_Date_Prestaqi:[null===(p=null==r?void 0:r.user)||void 0===p?void 0:p.start_Date_Prestaqi,n.F.required],limit_Date:[null===(u=null==r?void 0:r.user)||void 0===u?void 0:u.limit_Date,n.F.required],rfc:[null===(b=null==r?void 0:r.user)||void 0===b?void 0:b.rfc,n.F.required],institution_Id:[null===(m=null==r?void 0:r.user)||void 0===m?void 0:m.institution_Id,n.F.required],clabe:[null===(f=null==r?void 0:r.user)||void 0===f?void 0:f.clabe,[n.F.required,n.F.minLength(18),n.F.maxLength(18)]],account_Number:[null===(h=null==r?void 0:r.user)||void 0===h?void 0:h.account_Number,[n.F.required,n.F.pattern("^\\d*$"),n.F.minLength(1),n.F.maxLength(11)]],enabled:[null===(g=null==r?void 0:r.user)||void 0===g?void 0:g.enabled,n.F.required],is_Moral_Person:[null===(v=null==r?void 0:r.user)||void 0===v?void 0:v.is_Moral_Person,n.F.required],mail:[null===(y=null==r?void 0:r.user)||void 0===y?void 0:y.mail,[n.F.required,n.F.email]],first_Login:[null!==(S=null===(R=null==r?void 0:r.user)||void 0===R?void 0:R.first_Login)&&void 0!==S&&S]}),this.formGroup.valueChanges.subscribe(()=>{this.onFormValuesChanged()})}onFormValuesChanged(){for(const t in this.formErrors){if(!this.formErrors.hasOwnProperty(t))continue;this.formErrors[t]={};const e=this.formGroup.get(t);e&&e.dirty&&!e.valid&&(this.formErrors[t]=e.errors)}}submit(){this.loading=!0,this.http.put(this.constant.api+"Investors",this.formGroup.value).subscribe(t=>{t.success?(this.snackBar.openFromComponent(o.a,{data:{message:"EXITOSO",subMessage:t.message,type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),this.dialogRef.close(!0)):(this.snackBar.openFromComponent(o.a,{data:{message:"ERROR",subMessage:t.message,type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),this.dialogRef.close(!1)),this.loading=!1},t=>{this.dialogRef.close(!1),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a.h),r.Mb(n.f),r.Mb(h.b),r.Mb(s.b),r.Mb(g.a),r.Mb(a.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit-investor"]],decls:98,vars:26,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title",3,"ngStyle"],["mat-button","",1,"toggle-button-navbar","mat-icon-button",3,"mat-dialog-close"],["mat-dialog-content","","appPerfectScrollbar","",1,"pl-25","pr-25","m-0",3,"formGroup"],[1,"label"],["fxLayout","row","fxLayoutAlign","space-between"],["fxFlex","50",2,"padding-right","12.5px"],["appearance","outline"],["matInput","","formControlName","first_Name"],[4,"ngIf"],["fxFlex","50",2,"padding-left","12.5px"],["matInput","","formControlName","last_Name"],["matInput","","formControlName","mail"],["matInput","","formControlName","total_Amount_Agreed"],["fxFlex","33",2,"padding-right","12.5px"],[3,"ngStyle"],["matInput","","formControlName","start_Date_Prestaqi",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerComunity",""],["fxFlex","33",2,"padding-left","12.5px","padding-right","12.5px"],["matInput","","formControlName","limit_Date",3,"matDatepicker"],["pickerCapital",""],["fxFlex","33",2,"padding-left","12.5px"],["matInput","","formControlName","rfc"],["formControlName","institution_Id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","clabe"],["matInput","","formControlName","account_Number"],[1,"content-type-person"],["formControlName","is_Moral_Person"],["mat-dialog-actions","","fxLayoutAlign","space-around center",1,"m-0"],[1,"content-botton"],[1,"content-btn-left"],["mat-button","",3,"disabled","click"],[1,"content-btn-right"],["mat-button","",3,"mat-dialog-close"],[3,"value"]],template:function(t,e){if(1&t&&(r.Sb(0,"div",0),r.Sb(1,"mat-toolbar",1),r.Sb(2,"div",2),r.Sb(3,"span",3),r.Jc(4,"Editar Inversionista"),r.Rb(),r.Sb(5,"button",4),r.Sb(6,"mat-icon"),r.Jc(7,"close"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(8,"div",5),r.Sb(9,"p",6),r.Jc(10,"DATOS GENERALES"),r.Rb(),r.Sb(11,"div",7),r.Sb(12,"div",8),r.Sb(13,"mat-form-field",9),r.Sb(14,"mat-label"),r.Jc(15,"Nombres"),r.Rb(),r.Nb(16,"input",10),r.Hc(17,I,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(18,"div",12),r.Sb(19,"mat-form-field",9),r.Sb(20,"mat-label"),r.Jc(21,"Apellidos"),r.Rb(),r.Nb(22,"input",13),r.Hc(23,k,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",7),r.Sb(25,"div",8),r.Sb(26,"mat-form-field",9),r.Sb(27,"mat-label"),r.Jc(28,"Email"),r.Rb(),r.Nb(29,"input",14),r.Hc(30,x,2,0,"mat-error",11),r.Hc(31,D,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(32,"div",12),r.Sb(33,"mat-form-field",9),r.Sb(34,"mat-label"),r.Jc(35,"Monto total pactado"),r.Rb(),r.Nb(36,"input",15),r.Hc(37,E,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(38,"div",7),r.Sb(39,"div",16),r.Sb(40,"mat-form-field",9),r.Sb(41,"mat-label"),r.Jc(42,"Fecha inicio en comunidad "),r.Sb(43,"span",17),r.Jc(44,"SNAC"),r.Rb(),r.Rb(),r.Nb(45,"input",18),r.Nb(46,"mat-datepicker-toggle",19),r.Nb(47,"mat-datepicker",null,20),r.Hc(49,M,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(50,"div",21),r.Sb(51,"mat-form-field",9),r.Sb(52,"mat-label"),r.Jc(53,"Fecha limite de llamada de capital"),r.Rb(),r.Nb(54,"input",22),r.Nb(55,"mat-datepicker-toggle",19),r.Nb(56,"mat-datepicker",null,23),r.Hc(58,N,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(59,"div",24),r.Sb(60,"mat-form-field",9),r.Sb(61,"mat-label"),r.Jc(62,"RFC"),r.Rb(),r.Nb(63,"input",25),r.Hc(64,_,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(65,"p",6),r.Jc(66,"DATOS BANCARIOS"),r.Rb(),r.Sb(67,"div",7),r.Sb(68,"div",16),r.Sb(69,"mat-form-field",9),r.Sb(70,"mat-label"),r.Jc(71,"Banco"),r.Rb(),r.Sb(72,"mat-select",26),r.Hc(73,A,2,2,"mat-option",27),r.Rb(),r.Hc(74,w,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(75,"div",21),r.Sb(76,"mat-form-field",9),r.Sb(77,"mat-label"),r.Jc(78,"CLABE interbancaria (18 digitos)"),r.Rb(),r.Nb(79,"input",28),r.Hc(80,J,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Sb(81,"div",24),r.Sb(82,"mat-form-field",9),r.Sb(83,"mat-label"),r.Jc(84,"N\xfamero de cuenta"),r.Rb(),r.Nb(85,"input",29),r.Hc(86,C,2,0,"mat-error",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(87,"div",30),r.Sb(88,"mat-checkbox",31),r.Jc(89," Persona Moral "),r.Rb(),r.Rb(),r.Rb(),r.Sb(90,"div",32),r.Sb(91,"div",33),r.Sb(92,"div",34),r.Sb(93,"button",35),r.ac("click",(function(){return e.submit()})),r.Jc(94,"GUARDAR CAMBIOS"),r.Rb(),r.Rb(),r.Sb(95,"div",36),r.Sb(96,"button",37),r.Jc(97,"CANCELAR"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){const t=r.uc(48),i=r.uc(57);r.zb(3),r.kc("ngStyle",r.nc(24,L)),r.zb(2),r.kc("mat-dialog-close",!1),r.zb(3),r.kc("formGroup",e.formGroup),r.zb(9),r.kc("ngIf",e.formErrors.first_Name.required),r.zb(6),r.kc("ngIf",e.formErrors.last_Name.required),r.zb(7),r.kc("ngIf",null==e.formErrors.mail?null:e.formErrors.mail.required),r.zb(1),r.kc("ngIf",!(null!=e.formErrors&&null!=e.formErrors.mail&&e.formErrors.mail.required)&&(null==e.formErrors||null==e.formErrors.mail?null:e.formErrors.mail.email)),r.zb(6),r.kc("ngIf",e.formErrors.total_Amount_Agreed.required),r.zb(6),r.kc("ngStyle",r.nc(25,L)),r.zb(2),r.kc("matDatepicker",t),r.zb(1),r.kc("for",t),r.zb(3),r.kc("ngIf",e.formErrors.start_Date_Prestaqi.required),r.zb(5),r.kc("matDatepicker",i),r.zb(1),r.kc("for",i),r.zb(3),r.kc("ngIf",e.formErrors.limit_Date.required),r.zb(6),r.kc("ngIf",e.formErrors.rfc.required),r.zb(9),r.kc("ngForOf",e.data.banks),r.zb(1),r.kc("ngIf",e.formErrors.institution_Id.required),r.zb(6),r.kc("ngIf",e.formErrors.clabe.required),r.zb(6),r.kc("ngIf",e.formErrors.account_Number.required),r.zb(7),r.Db("spinner",e.loading),r.kc("disabled",e.formGroup.invalid||e.loading),r.zb(3),r.kc("mat-dialog-close",!1)}},directives:[l.a,a.i,v.b,v.f,v.e,y.w,R.d,c.b,a.d,d.a,a.f,S.a,n.s,n.j,p.b,p.f,u.b,n.c,n.r,n.i,y.t,b.f,b.h,p.i,b.d,m.a,y.s,f.a,a.c,p.a,F.p],styles:['app-edit-investor .mat-dialog-content{padding-top:10px}app-edit-investor .label{color:#41434c;font-weight:700;font-size:12px}app-edit-investor mat-form-field{width:100%}app-edit-investor .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-edit-investor .mat-dialog-actions .mat-button{border-radius:50px;font-weight:700;padding:5px 0}app-edit-investor .mat-dialog-actions .content-botton{display:flex;justify-content:space-between;width:100%;padding-bottom:20px}app-edit-investor .mat-dialog-actions .content-botton .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-edit-investor .mat-dialog-actions .content-botton .content-btn-left{width:50%;padding-right:12.5px;padding-left:25px}app-edit-investor .mat-dialog-actions .content-botton .content-btn-left .mat-button{width:100%;background:#41434c;color:#fff}app-edit-investor .mat-dialog-actions .content-botton .content-btn-right{width:50%;padding-left:12.5px;padding-right:25px}app-edit-investor .mat-dialog-actions .content-botton .content-btn-right .mat-button{width:100%;background-color:#8e91a2;color:#fff}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),t})()},tAa7:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("fXoL"),n=i("tk/3"),o=i("7RFJ");let r=(()=>{class t{constructor(t,e){this.http=t,this.constant=e}createInvestor(t){return this.http.post(this.constant.api+"Investors",t)}createAccredited(t){return this.http.post(this.constant.api+"Accrediteds",t)}createAdmin(t){return this.http.post(this.constant.api+"Users",t)}createLicense(t){return this.http.post(this.constant.api+"License",t)}fetchModule(){return this.http.get(this.constant.api+"Modules")}groupUser(t,e){return this.http.post(this.constant.api+"Administrative/SaveFileUsers",{File:t,Type:e})}groupSnac(t,e){return this.http.post(this.constant.api+"Administrative/SaveSnacGroup",{File:t,companyId:e})}getInstitutions(){return this.http.get(this.constant.api+"Institutions/GetList")}getGender(){return this.http.get(this.constant.api+"Genders")}getPeriodos(t){return this.http.get(`${this.constant.api}Periods/GetByType?type=${t}`)}getTypeContract(){return this.http.get(this.constant.api+"TypeContract")}getLicenses(){return this.http.get(this.constant.api+"License/All")}getCompanies(){return this.http.get(this.constant.api+"Companies/GetList")}}return t.\u0275fac=function(e){return new(e||t)(a.Wb(n.b),a.Wb(o.a))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);