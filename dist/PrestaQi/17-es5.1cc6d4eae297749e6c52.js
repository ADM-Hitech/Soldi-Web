function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"7QPh":function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var n=t("fXoL"),o=t("RL7/"),a=t("tyNb"),i=t("jtrZ"),c=function(){var e=function(){function e(r,t,n,o){_classCallCheck(this,e),this.auth=r,this.router=t,this.routeActivate=n,this.appConfig=o,o.lastRoute=""}return _createClass(e,[{key:"canActivate",value:function(e,r){return this.auth.isAuthenticated()?!!this.auth.checkRols(e.data.roles)||(this.router.navigate(["/"]),!1):(this.appConfig.lastRoute=r.url,this.router.navigate(["login"]),!1)}}]),e}();return e.\u0275fac=function(r){return new(r||e)(n.Wb(o.a),n.Wb(a.d),n.Wb(a.a),n.Wb(i.a))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ZtiS:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var n=t("fXoL"),o=t("RL7/"),a=t("tyNb"),i=function(){var e=function(){function e(r,t){_classCallCheck(this,e),this.auth=r,this.router=t}return _createClass(e,[{key:"canActivate",value:function(e,r){return!!this.auth.checkRols(e.data.roles)||(this.router.navigate(["login"]),!1)}}]),e}();return e.\u0275fac=function(r){return new(r||e)(n.Wb(o.a),n.Wb(a.d))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},xb5Z:function(e,r,t){"use strict";t.r(r),t.d(r,"CreateUsersModule",(function(){return Mr}));var n=t("ofXK"),o=t("4TcP"),a=t("tyNb"),i=t("Y4ud"),c=t("3Pt+"),s=t("xm3d"),l=t("fXoL"),u=t("LcAk"),m=t("0DX0"),d=t("IRfi"),b=t("A2Vd"),p=t("/o1g"),f=t("2+6u"),g=t("SSqQ"),h=t("Xlwt"),v=t("tAa7"),x=t("znSr"),S=t("XiUz"),R=t("tmjD"),y=t("j14s");function k(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El nombre es requerido "),l.Rb())}function E(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El apellido es requerido "),l.Rb())}function C(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El mail es requerido "),l.Rb())}function I(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Por favor ingresa un mail valido "),l.Rb())}function _(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El monto total pactado es requerido "),l.Rb())}function F(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La fecha es requerida "),l.Rb())}function N(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La fecha es requerida "),l.Rb())}function z(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El rfc es requerido "),l.Rb())}function J(e,r){if(1&e&&(l.Sb(0,"mat-option",37),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.description)}}function q(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El banco es requerido "),l.Rb())}function w(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La clabe es requerida "),l.Rb())}function A(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El n\xfamero de cuenta es requerido "),l.Rb())}var L,M=function(){return{"font-family":"MontserratBold"}},P=((L=function(){function e(r,t,n,o){_classCallCheck(this,e),this.dialog=r,this.rest=t,this.formBuilder=n,this.snackBar=o,this.loading=!1,this.instituciones=[],this.formErrors={first_name:{},last_name:{},total_amount_agreed:{},start_date_prestaqi:{},limit_date:{},rfc:{},institution_id:{},clabe:{},account_number:{},is_moral_person:{},mail:{}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=this.formBuilder.group({first_name:["",c.F.required],last_name:["",c.F.required],total_amount_agreed:["",[c.F.required,c.F.pattern("^\\d*$")]],start_date_prestaqi:["",c.F.required],limit_date:["",c.F.required],rfc:["",c.F.required],institution_id:[1,c.F.required],clabe:["",[c.F.required,c.F.minLength(18),c.F.maxLength(18)]],account_number:["",[c.F.required,c.F.pattern("^\\d*$"),c.F.minLength(1),c.F.maxLength(11)]],enabled:[!0,c.F.required],is_moral_person:[!1,c.F.required],mail:["",[c.F.required,c.F.email]]}),this.formGroup.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.fetchIntituciones()}},{key:"onFormValuesChanged",value:function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var r=this.formGroup.get(e);r&&r.dirty&&!r.valid&&(this.formErrors[e]=r.errors)}}},{key:"edit",value:function(e){this.dialog.open(i.a,{data:{user:e,instituciones:this.instituciones},panelClass:"edit-investor-modal"})}},{key:"submit",value:function(){var e=this;this.loading=!0,this.rest.createInvestor(this.formGroup.value).subscribe((function(r){r.success?(e.snackBar.openFromComponent(s.a,{data:{message:"EXITOSO",subMessage:r.message,type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.formGroup.reset()):e.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:r.message,type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1}),(function(r){e.loading=!1}))}},{key:"fetchIntituciones",value:function(){var e=this;this.rest.getInstitutions().subscribe((function(r){r.success&&(e.instituciones=r.data)}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||L)(l.Mb(u.b),l.Mb(v.a),l.Mb(c.f),l.Mb(m.b))},L.\u0275cmp=l.Gb({type:L,selectors:[["app-investor"]],decls:91,vars:24,consts:[[1,"container"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form",3,"formGroup"],[1,"label"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-name"],["appearance","outline"],["matInput","","formControlName","first_name"],[4,"ngIf"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-last-name"],["matInput","","formControlName","last_name"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-email"],["matInput","","formControlName","mail"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-amount-pactado"],["matInput","","formControlName","total_amount_agreed","prefix","$","mask","separator","thousandSeparator",","],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-date-initial"],["matInput","","formControlName","start_date_prestaqi",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerComunity",""],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-date-limit"],["matInput","","formControlName","limit_date",3,"matDatepicker"],["pickerCapital",""],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-rfc"],["matInput","","formControlName","rfc"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-bank"],["formControlName","institution_id"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-clave"],["matInput","","formControlName","clabe"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-account-number"],["matInput","","formControlName","account_number"],[1,"content-type-person"],["formControlName","is_moral_person"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(e,r){if(1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Jc(3,"Crear Inversionista"),l.Rb(),l.Nb(4,"span",3),l.Rb(),l.Sb(5,"div",4),l.Sb(6,"p",5),l.Jc(7,"DATOS GENERALES"),l.Rb(),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"mat-form-field",8),l.Sb(11,"mat-label"),l.Jc(12,"Nombres"),l.Rb(),l.Nb(13,"input",9),l.Hc(14,k,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(15,"div",11),l.Sb(16,"mat-form-field",8),l.Sb(17,"mat-label"),l.Jc(18,"Apellidos"),l.Rb(),l.Nb(19,"input",12),l.Hc(20,E,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"div",6),l.Sb(22,"div",13),l.Sb(23,"mat-form-field",8),l.Sb(24,"mat-label"),l.Jc(25,"Email"),l.Rb(),l.Nb(26,"input",14),l.Hc(27,C,2,0,"mat-error",10),l.Hc(28,I,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(29,"div",15),l.Sb(30,"mat-form-field",8),l.Sb(31,"mat-label"),l.Jc(32,"Monto total pactado"),l.Rb(),l.Nb(33,"input",16),l.Hc(34,_,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(35,"div",6),l.Sb(36,"div",17),l.Sb(37,"mat-form-field",8),l.Sb(38,"mat-label"),l.Jc(39,"Fecha inicio en comunidad "),l.Sb(40,"span",2),l.Jc(41,"PrestaQi"),l.Rb(),l.Rb(),l.Nb(42,"input",18),l.Nb(43,"mat-datepicker-toggle",19),l.Nb(44,"mat-datepicker",null,20),l.Hc(46,F,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(47,"div",21),l.Sb(48,"mat-form-field",8),l.Sb(49,"mat-label"),l.Jc(50,"Fecha limite de llamada de capital"),l.Rb(),l.Nb(51,"input",22),l.Nb(52,"mat-datepicker-toggle",19),l.Nb(53,"mat-datepicker",null,23),l.Hc(55,N,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(56,"div",24),l.Sb(57,"mat-form-field",8),l.Sb(58,"mat-label"),l.Jc(59,"RFC"),l.Rb(),l.Nb(60,"input",25),l.Hc(61,z,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(62,"p",5),l.Jc(63,"DATOS BANCARIOS"),l.Rb(),l.Sb(64,"div",6),l.Sb(65,"div",26),l.Sb(66,"mat-form-field",8),l.Sb(67,"mat-label"),l.Jc(68,"Banco"),l.Rb(),l.Sb(69,"mat-select",27),l.Hc(70,J,2,2,"mat-option",28),l.Rb(),l.Hc(71,q,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(72,"div",29),l.Sb(73,"mat-form-field",8),l.Sb(74,"mat-label"),l.Jc(75,"CLABE interbancaria (18 digitos)"),l.Rb(),l.Nb(76,"input",30),l.Hc(77,w,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(78,"div",31),l.Sb(79,"mat-form-field",8),l.Sb(80,"mat-label"),l.Jc(81,"N\xfamero de cuenta"),l.Rb(),l.Nb(82,"input",32),l.Hc(83,A,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(84,"div",33),l.Sb(85,"mat-checkbox",34),l.Jc(86," Persona Moral "),l.Rb(),l.Rb(),l.Nb(87,"br"),l.Sb(88,"div",35),l.Sb(89,"button",36),l.ac("click",(function(){return r.submit()})),l.Jc(90,"CREAR INVERSIONISTA"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e){var t=l.uc(45),n=l.uc(54);l.zb(2),l.kc("ngStyle",l.nc(22,M)),l.zb(3),l.kc("formGroup",r.formGroup),l.zb(9),l.kc("ngIf",r.formErrors.first_name.required),l.zb(6),l.kc("ngIf",r.formErrors.last_name.required),l.zb(7),l.kc("ngIf",null==r.formErrors.mail?null:r.formErrors.mail.required),l.zb(1),l.kc("ngIf",!(null!=r.formErrors&&null!=r.formErrors.mail&&r.formErrors.mail.required)&&(null==r.formErrors||null==r.formErrors.mail?null:r.formErrors.mail.email)),l.zb(6),l.kc("ngIf",r.formErrors.total_amount_agreed.required),l.zb(6),l.kc("ngStyle",l.nc(23,M)),l.zb(2),l.kc("matDatepicker",t),l.zb(1),l.kc("for",t),l.zb(3),l.kc("ngIf",r.formErrors.start_date_prestaqi.required),l.zb(5),l.kc("matDatepicker",n),l.zb(1),l.kc("for",n),l.zb(3),l.kc("ngIf",r.formErrors.limit_date.required),l.zb(6),l.kc("ngIf",r.formErrors.rfc.required),l.zb(9),l.kc("ngForOf",r.instituciones),l.zb(1),l.kc("ngIf",r.formErrors.institution_id.required),l.zb(6),l.kc("ngIf",r.formErrors.clabe.required),l.zb(6),l.kc("ngIf",r.formErrors.account_number.required),l.zb(6),l.Db("spinner",r.loading),l.kc("disabled",r.formGroup.invalid||r.loading)}},directives:[n.w,x.d,c.s,c.j,S.f,S.e,S.b,d.b,d.f,b.b,c.c,c.r,c.i,n.t,R.a,p.f,p.h,d.i,p.d,f.a,n.s,g.a,h.b,d.a,y.p],styles:['app-investor .container{padding:0}@media (max-width:959px){app-investor .container{margin-top:25px}}app-investor .container .title{margin-bottom:25px}app-investor .container .title h3{margin:0;color:#41434c;font-size:20px}app-investor .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-investor .container .content-form .label{color:#41434c;font-weight:700;font-size:12px}app-investor .container .content-form .inpu-bank,app-investor .container .content-form .inpu-clave,app-investor .container .content-form .inpu-date-initial,app-investor .container .content-form .inpu-date-limit,app-investor .container .content-form .inpu-email,app-investor .container .content-form .inpu-name{padding-right:12.5px}@media (max-width:959px){app-investor .container .content-form .inpu-bank,app-investor .container .content-form .inpu-clave,app-investor .container .content-form .inpu-date-initial,app-investor .container .content-form .inpu-date-limit,app-investor .container .content-form .inpu-email,app-investor .container .content-form .inpu-name{padding-right:0}}app-investor .container .content-form .inpu-account-number,app-investor .container .content-form .inpu-amount-pactado,app-investor .container .content-form .inpu-clave,app-investor .container .content-form .inpu-date-limit,app-investor .container .content-form .inpu-last-name,app-investor .container .content-form .inpu-rfc{padding-left:12.5px}@media (max-width:959px){app-investor .container .content-form .inpu-account-number,app-investor .container .content-form .inpu-amount-pactado,app-investor .container .content-form .inpu-clave,app-investor .container .content-form .inpu-date-limit,app-investor .container .content-form .inpu-last-name,app-investor .container .content-form .inpu-rfc{padding-left:0}}app-investor .container .content-form mat-form-field{width:100%}app-investor .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-investor .container .content-form .content-button{margin-top:10px}app-investor .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-investor .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),L),D=t("TY1r"),H=t("jhN1"),O=["boxInput"],G=["inputFile"];function B(e,r){1&e&&(l.Sb(0,"a",25),l.Jc(1,"Ejemplo"),l.Rb())}function T(e,r){1&e&&(l.Sb(0,"a",26),l.Jc(1,"Ejemplo"),l.Rb())}function U(e,r){1&e&&(l.Sb(0,"a",27),l.Jc(1,"Ejemplo"),l.Rb())}function V(e,r){if(1&e&&(l.Sb(0,"div",28),l.Nb(1,"p",29),l.Rb()),2&e){var t=l.ec();l.zb(1),l.kc("innerHTML",t.errors,l.zc)}}var $,Q=function(){return{"font-family":"MontserratBold"}},j=(($=function(){function e(r,t,n,o){_classCallCheck(this,e),this.matIconRegistry=r,this.domSanitizer=t,this.rest=n,this.snackBar=o,this.typeUser=1,this.loading=!1,this.errors="",this.labelInput="Arrasta y suelta o haz click para buscar en tu equipo el archivo .CSV",this.matIconRegistry.addSvgIcon("logoUpload",this.domSanitizer.bypassSecurityTrustResourceUrl("../../../../../assets/icons/ico-subir-archivo.svg"))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.boxInput.nativeElement.addEventListener("click",(function(r){e.inputFile.nativeElement.click()})),this.inputFile.nativeElement.addEventListener("change",(function(r){e.deleteDefaultEvent(r);var t=r.target.files;if(t.length>0){e.labelInput=t[0].name;var n=new FileReader;n.onload=function(r){var t=new Uint8Array(n.result);e.arrayBuffer=_toConsumableArray(t)},n.readAsArrayBuffer(t[0])}})),this.boxInput.nativeElement.addEventListener("drag",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragstart",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragend",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragover",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragenter",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragleave",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("drop",(function(r){e.deleteDefaultEvent(r);var t=r.dataTransfer.files;if(t.length>0){e.labelInput=t[0].name;var n=new FileReader;n.onload=function(r){var t=new Uint8Array(n.result);e.arrayBuffer=_toConsumableArray(t)},n.readAsArrayBuffer(t[0])}}))}},{key:"deleteDefaultEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"submit",value:function(){var e=this;this.loading=!0,this.rest.groupUser(this.arrayBuffer,this.typeUser).subscribe((function(r){e.snackBar.openFromComponent(s.a,r.success?{data:{message:"EXITOSO",subMessage:"Usuarios Registrados",type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}:{data:{message:"ERROR",subMessage:"Verifique el archivo",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1,e.errors=r.message.replace(/\n/g,"<br>")}),(function(r){e.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:"Verifica el archivo",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||$)(l.Mb(D.c),l.Mb(H.b),l.Mb(v.a),l.Mb(m.b))},$.\u0275cmp=l.Gb({type:$,selectors:[["app-group-users"]],viewQuery:function(e,r){var t;1&e&&(l.Oc(O,!0),l.Oc(G,!0)),2&e&&(l.tc(t=l.bc())&&(r.boxInput=t.first),l.tc(t=l.bc())&&(r.inputFile=t.first))},decls:35,vars:15,consts:[[1,"container"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form"],[1,"type-user"],["fxFlex","50",2,"padding-left","12.5px"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value"],["selected","",3,"value"],[3,"ngSwitch"],["href","assets/examples/Administrador.csv","style","margin-left: 10px;",4,"ngSwitchCase"],["href","assets/examples/Inversionistas.csv","style","margin-left: 10px;",4,"ngSwitchCase"],["href","assets/examples/Acreditados.csv","style","margin-left: 10px;",4,"ngSwitchCase"],[1,"content-upload-file"],[1,"box-input"],["boxInput",""],["svgIcon","logoUpload",1,"icon-upload"],["type","file","id","file",1,"input-file"],["inputFile",""],["for","file"],["class","content-error",4,"ngIf"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],["href","assets/examples/Administrador.csv",2,"margin-left","10px"],["href","assets/examples/Inversionistas.csv",2,"margin-left","10px"],["href","assets/examples/Acreditados.csv",2,"margin-left","10px"],[1,"content-error"],[3,"innerHTML"]],template:function(e,r){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Jc(3,"Crear Grupo de Usuarios"),l.Rb(),l.Nb(4,"span",3),l.Rb(),l.Sb(5,"div",4),l.Sb(6,"div",5),l.Sb(7,"div",6),l.Sb(8,"mat-form-field",7),l.Sb(9,"mat-label"),l.Jc(10,"Elige tipo de grupo a crear"),l.Rb(),l.Sb(11,"mat-select",8),l.ac("ngModelChange",(function(e){return r.typeUser=e})),l.Sb(12,"mat-option",9),l.Jc(13,"Nuevo grupo de Inversionistas"),l.Rb(),l.Sb(14,"mat-option",9),l.Jc(15,"Nuevo grupo de Acreditados"),l.Rb(),l.Sb(16,"mat-option",10),l.Jc(17,"Nuevo grupo de Administradores"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Qb(18,11),l.Hc(19,B,2,0,"a",12),l.Hc(20,T,2,0,"a",13),l.Hc(21,U,2,0,"a",14),l.Pb(),l.Sb(22,"div",15),l.Sb(23,"div",16,17),l.Nb(25,"mat-icon",18),l.Nb(26,"br"),l.Nb(27,"input",19,20),l.Sb(29,"label",21),l.Jc(30),l.Rb(),l.Rb(),l.Rb(),l.Hc(31,V,2,1,"div",22),l.Sb(32,"div",23),l.Sb(33,"button",24),l.ac("click",(function(){return r.submit()})),l.Jc(34,"CREAR GRUPO DE USUARIOS"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(2),l.kc("ngStyle",l.nc(14,Q)),l.zb(9),l.kc("ngModel",r.typeUser),l.zb(1),l.kc("value",2),l.zb(2),l.kc("value",3),l.zb(2),l.kc("value",1),l.zb(2),l.kc("ngSwitch",r.typeUser),l.zb(1),l.kc("ngSwitchCase",1),l.zb(1),l.kc("ngSwitchCase",2),l.zb(1),l.kc("ngSwitchCase",3),l.zb(9),l.Kc(r.labelInput),l.zb(1),l.kc("ngIf",!!r.errors),l.zb(2),l.Db("spinner",r.loading),l.kc("disabled",r.loading))},directives:[n.w,x.d,S.b,d.b,d.f,f.a,c.r,c.u,y.p,n.x,n.y,D.a,n.t,h.b],styles:['app-group-users .container{padding:0}@media (max-width:959px){app-group-users .container{margin-top:25px}}app-group-users .container .title{margin-bottom:25px}app-group-users .container .title h3{margin:0;color:#41434c;font-size:20px}app-group-users .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-group-users .container .content-form .label{color:#41434c;font-weight:700;font-size:12px}app-group-users .container .content-form .content-upload-file .box-input{text-align:center;outline:2px dashed #92b0b3;outline-offset:-10px;transition:outline-offset .15s ease-in-out,background-color .15s linear;font-size:1.25rem;position:relative;padding:100px 20px}app-group-users .container .content-form .content-upload-file .box-input label{color:#a6a6a6;font-size:15px}app-group-users .container .content-form .content-upload-file .box-input .input-file{opacity:0;overflow:hidden;position:absolute;z-index:-1}app-group-users .container .content-form .content-upload-file .box-input .icon-upload{display:contents;color:#32379e}app-group-users .container .content-form .content-upload-file .box-input .icon-upload svg{width:100px;height:100px}app-group-users .container .content-form mat-form-field{min-width:230px}@media (max-width:959px){app-group-users .container .content-form mat-form-field{width:100%}}app-group-users .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-group-users .container .content-form .content-button{margin-top:10px}app-group-users .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-group-users .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-group-users .content-error{color:red}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),$);function K(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El nombre es requerido "),l.Rb())}function W(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Los Apellidos son requeridos "),l.Rb())}function X(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El numero de empleado es requerido "),l.Rb())}function Y(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El mail es requerido "),l.Rb())}function Z(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Por favor ingresa un mail valido "),l.Rb())}function ee(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El telefono es requerido "),l.Rb())}function re(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El telefono no es correcto "),l.Rb())}function te(e,r){if(1&e){var t=l.Tb();l.Sb(0,"li"),l.Sb(1,"mat-checkbox",23),l.ac("change",(function(e){l.yc(t);var n=r.$implicit;return l.ec().checkModule(n,e)})),l.Jc(2),l.Rb(),l.Rb()}if(2&e){var n=r.$implicit,o=l.ec();l.zb(1),l.kc("disabled","Dashboard"===n.description)("checked",o.findModule(n)),l.zb(1),l.Kc(n.description)}}var ne,oe=function(){return{"font-family":"MontserratBold"}},ae=((ne=function(){function e(r,t,n){var o=this;_classCallCheck(this,e),this.formBuilder=r,this.rest=t,this.snackBar=n,this.modules=[],this.loading=!1,this.formErrors={first_name:{},last_name:{},mail:{},phone:{},employee_number:{}},this.formGroup=this.formBuilder.group({first_name:["",c.F.required],last_name:["",c.F.required],mail:["",[c.F.required,c.F.email]],phone:["",[c.F.required,c.F.minLength(10)]],employee_number:["",c.F.required],enabled:[!0],modules:this.formBuilder.array([],c.F.minLength(1))}),this.formGroup.valueChanges.subscribe((function(){o.onFormValuesChanged()}))}return _createClass(e,[{key:"onFormValuesChanged",value:function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var r=this.formGroup.get(e);r&&r.dirty&&!r.valid&&(this.formErrors[e]=r.errors)}}},{key:"ngOnInit",value:function(){this.fetchModules()}},{key:"fetchModules",value:function(){var e=this;this.rest.fetchModule().subscribe((function(r){if(r.success){e.modules=r.data;var t=e.modules.find((function(e){return null!==e&&"Dashboard"===e.description}));t&&e.checkModule(t,{checked:!0})}}),(function(e){}))}},{key:"submit",value:function(){var e=this;this.loading=!0,this.rest.createAdmin(this.formGroup.value).subscribe((function(r){r.success?(e.snackBar.openFromComponent(s.a,{data:{message:"EXITOSO",subMessage:r.message,type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.formGroup.reset()):(e.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:r.message,type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.arrayModules.clear(),e.modules=_toConsumableArray(e.modules)),e.loading=!1}),(function(r){e.loading=!1}))}},{key:"checkModule",value:function(e,r){if(r.checked)this.arrayModules.push(this.formBuilder.control({module_id:e.id}));else{var t=this.arrayModules.value.findIndex((function(r){return r.module_id===e.id}));this.arrayModules.removeAt(t)}}},{key:"findModule",value:function(e){return!!this.arrayModules.value.find((function(r){return null!==r&&r.module_id===e.id}))}},{key:"arrayModules",get:function(){return this.formGroup.get("modules")}}]),e}()).\u0275fac=function(e){return new(e||ne)(l.Mb(c.f),l.Mb(v.a),l.Mb(m.b))},ne.\u0275cmp=l.Gb({type:ne,selectors:[["app-administrator"]],decls:50,vars:14,consts:[[1,"container"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form",3,"formGroup"],[1,"label"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-name"],["appearance","outline"],["matInput","","formControlName","first_name"],[4,"ngIf"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-last-name"],["matInput","","formControlName","last_name"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-employer-number"],["matInput","","formControlName","employee_number"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-email"],["matInput","","formControlName","mail"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-telephone"],["matInput","","formControlName","phone"],[1,"content-modules"],[4,"ngFor","ngForOf"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],["color","primary",3,"disabled","checked","change"]],template:function(e,r){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Jc(3,"Crear Administrador"),l.Rb(),l.Nb(4,"span",3),l.Rb(),l.Sb(5,"div",4),l.Sb(6,"p",5),l.Jc(7,"DATOS GENERALES"),l.Rb(),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"mat-form-field",8),l.Sb(11,"mat-label"),l.Jc(12,"Nombres"),l.Rb(),l.Nb(13,"input",9),l.Hc(14,K,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(15,"div",11),l.Sb(16,"mat-form-field",8),l.Sb(17,"mat-label"),l.Jc(18,"Apellidos"),l.Rb(),l.Nb(19,"input",12),l.Hc(20,W,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(21,"div",6),l.Sb(22,"div",13),l.Sb(23,"mat-form-field",8),l.Sb(24,"mat-label"),l.Jc(25,"N\xfamero de empleado"),l.Rb(),l.Nb(26,"input",14),l.Hc(27,X,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(28,"div",15),l.Sb(29,"mat-form-field",8),l.Sb(30,"mat-label"),l.Jc(31,"Correo electr\xf3nico"),l.Rb(),l.Nb(32,"input",16),l.Hc(33,Y,2,0,"mat-error",10),l.Hc(34,Z,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(35,"div",17),l.Sb(36,"mat-form-field",8),l.Sb(37,"mat-label"),l.Jc(38,"Tel\xe9fono (10 digitos)"),l.Rb(),l.Nb(39,"input",18),l.Hc(40,ee,2,0,"mat-error",10),l.Hc(41,re,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(42,"p",5),l.Jc(43,"Modulos"),l.Rb(),l.Sb(44,"div",19),l.Sb(45,"ul"),l.Hc(46,te,3,3,"li",20),l.Rb(),l.Rb(),l.Sb(47,"div",21),l.Sb(48,"button",22),l.ac("click",(function(){return r.submit()})),l.Jc(49,"CREAR ADMINISTRADOR"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(2),l.kc("ngStyle",l.nc(13,oe)),l.zb(3),l.kc("formGroup",r.formGroup),l.zb(9),l.kc("ngIf",r.formErrors.first_name.required),l.zb(6),l.kc("ngIf",r.formErrors.last_name.required),l.zb(7),l.kc("ngIf",r.formErrors.employee_number.required),l.zb(6),l.kc("ngIf",r.formErrors.mail.required),l.zb(1),l.kc("ngIf",!(null!=r.formErrors&&null!=r.formErrors.mail&&r.formErrors.mail.required)&&(null==r.formErrors||null==r.formErrors.mail?null:r.formErrors.mail.email)),l.zb(6),l.kc("ngIf",r.formErrors.phone.required),l.zb(1),l.kc("ngIf",r.formErrors.phone.minlength),l.zb(5),l.kc("ngForOf",r.modules),l.zb(2),l.Db("spinner",r.loading),l.kc("disabled",r.formGroup.invalid||r.loading))},directives:[n.w,x.d,c.s,c.j,S.f,S.e,S.b,d.b,d.f,b.b,c.c,c.r,c.i,n.t,n.s,h.b,d.a,g.a],styles:['app-administrator .container{padding:0}@media (max-width:959px){app-administrator .container{margin-top:25px}}app-administrator .container .title{margin-bottom:25px}app-administrator .container .title h3{margin:0;color:#41434c;font-size:20px}app-administrator .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-administrator .container .content-form .label{color:#41434c;font-weight:700;font-size:12px}app-administrator .container .content-form .inpu-email,app-administrator .container .content-form .inpu-employer-number,app-administrator .container .content-form .inpu-name{padding-right:12.5px}@media (max-width:959px){app-administrator .container .content-form .inpu-email,app-administrator .container .content-form .inpu-employer-number,app-administrator .container .content-form .inpu-name{padding-right:0}}app-administrator .container .content-form .inpu-email,app-administrator .container .content-form .inpu-last-name,app-administrator .container .content-form .inpu-telephone{padding-left:12.5px}@media (max-width:959px){app-administrator .container .content-form .inpu-email,app-administrator .container .content-form .inpu-last-name,app-administrator .container .content-form .inpu-telephone{padding-left:0}}app-administrator .container .content-form mat-form-field{width:100%}app-administrator .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-administrator .container .content-form .content-button{margin-top:10px}app-administrator .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-administrator .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-administrator .container .content-form .content-modules{margin-bottom:25px}app-administrator .container .content-form .content-modules ul{display:flex;list-style:none;padding:0;justify-content:flex-start;flex-wrap:wrap}app-administrator .container .content-form .content-modules ul li{min-width:160px;padding:5px 10px}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),ne),ie=t("cp0P"),ce=t("G/Ji");function se(e,r){1&e&&(l.Sb(0,"div",59),l.Nb(1,"mat-spinner"),l.Rb())}function le(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El nombre es requerido "),l.Rb())}function ue(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El apellido es requerido "),l.Rb())}function me(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El mail es requerido "),l.Rb())}function de(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Por favor ingresa un mail valido "),l.Rb())}function be(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La compa\xf1ia es requerida "),l.Rb())}function pe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El ID es requerido "),l.Rb())}function fe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Outsourcing es requerida "),l.Rb())}function ge(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.description)}}function he(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Tipo de contrataci\xf3n es requerido "),l.Rb())}function ve(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El N\xfamero de contrato es requerido "),l.Rb())}function xe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Cargo es requerido "),l.Rb())}function Se(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Sueldo es requerido "),l.Rb())}function Re(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Sueldo es requerido "),l.Rb())}function ye(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El campo es requerido "),l.Rb())}function ke(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.description)}}function Ee(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La periodicidad es requerida "),l.Rb())}function Ce(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t),l.zb(1),l.Kc(t)}}function Ie(e,r){if(1&e&&(l.Sb(0,"mat-select",61),l.Hc(1,Ce,2,2,"mat-option",20),l.Rb()),2&e){var t=l.ec();l.zb(1),l.kc("ngForOf",t.daysInMonth)}}function _e(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.label)}}function Fe(e,r){if(1&e&&(l.Sb(0,"mat-select",61),l.Hc(1,_e,2,2,"mat-option",20),l.Rb()),2&e){var t=l.ec();l.zb(1),l.kc("ngForOf",t.daysOfWeeks)}}function Ne(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El valor no puede ser mayor a la fecha de pago 2 "),l.Rb())}function ze(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t),l.zb(1),l.Kc(t)}}function Je(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El dato es requerido "),l.Rb())}function qe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El valor no puede ser menor a la fecha de pago 1 "),l.Rb())}function we(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El RFC es requerido "),l.Rb())}function Ae(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Interes es requerido "),l.Rb())}function Le(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Interes es requerido "),l.Rb())}function Me(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La fecha es requerida "),l.Rb())}function Pe(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.description)}}function De(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Sexo es requerida "),l.Rb())}function He(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La direcci\xf3n es requerida "),l.Rb())}function Oe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La colonia es requerida "),l.Rb())}function Ge(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La Delagacion/Municipio es requerido "),l.Rb())}function Be(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El codigo postal es requerido "),l.Rb())}function Te(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El codigo postal es requerido "),l.Rb())}function Ue(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.description)}}function Ve(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Banco es requerida "),l.Rb())}function $e(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La Clabe es requerida "),l.Rb())}function Qe(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Formato invalido "),l.Rb())}function je(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El N\xfamero de cuenta es requerida "),l.Rb())}function Ke(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El mail es requerido "),l.Rb())}function We(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Por favor ingresa un mail valido "),l.Rb())}function Xe(e,r){if(1&e&&(l.Sb(0,"mat-option",60),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Kc(t.name)}}var Ye,Ze,er=function(){return{"font-family":"MontserratBold"}},rr=((Ye=function(){function e(r,t,n){_classCallCheck(this,e),this.rest=r,this.formBuilder=t,this.snackBar=n,this.loading=!1,this.instituciones=[],this.genders=[],this.periodos=[],this.typeContract=[],this.licenses=[],this.loadingCatalog=!1,this.daysOfWeeks=[{id:0,label:"Domingo"},{id:1,label:"Lunes"},{id:2,label:"Martes"},{id:3,label:"Mi\xe9rcoles"},{id:4,label:"Jueves"},{id:5,label:"Viernes"},{id:6,label:"S\xe1bado"}],this.daysInMonth=Array.from({length:31},(function(e,r){return r+1})),this.formErrors={first_name:{},last_name:{},Company_Name:{},identify:{},contract_number:{},position:{},net_monthly_salary:{},rfc:{},interest_rate:{},seniority_company:{},birth_date:{},age:{},gender_id:{},clabe:{},account_number:{},enabled:{},moratoruim_interest_rate:{},period_id:{},mail:{},mail_mandate_latter:{},institution_id:{},address:{},colony:{},municipality:{},zip_code:{},state:{},type_contract_id:{},end_day_payment:{},gross_monthly_salary:{},other_obligations:{},Outsourcing_Name:{},Period_Start_Date:{},Period_End_Date:{},License_Id:{}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=this.formBuilder.group({first_name:["",c.F.required],last_name:["",c.F.required],Company_Name:["",c.F.required],identify:["",c.F.required],contract_number:["",c.F.required],position:["",c.F.required],net_monthly_salary:["",c.F.required],rfc:["",c.F.required],interest_rate:["",c.F.required],seniority_company:["",c.F.required],birth_date:["",c.F.required],age:[0,[c.F.required,c.F.pattern("^\\d*$")]],gender_id:["",c.F.required],clabe:["",[c.F.required]],account_number:["",[c.F.required]],enabled:[!0,c.F.required],moratoruim_interest_rate:["",c.F.required],period_id:["",c.F.required],mail:["",[c.F.required,c.F.email]],mail_mandate_latter:["",[c.F.required,c.F.email]],institution_id:["",c.F.required],address:["",c.F.required],colony:["",c.F.required],municipality:["",c.F.required],zip_code:["",[c.F.required,c.F.pattern("^\\d*$"),c.F.minLength(5),c.F.maxLength(5)]],state:["",c.F.required],type_contract_id:["",c.F.required],end_day_payment:[""],gross_monthly_salary:["",c.F.required],other_obligations:["",c.F.required],Outsourcing_Name:[""],Period_Start_Date:["",c.F.required],Period_End_Date:[""],License_Id:[""]}),this.formGroup.valueChanges.subscribe((function(){e.onFormValuesChanged()})),this.fetchCatalog()}},{key:"fetchCatalog",value:function(){var e=this;this.loadingCatalog=!0,Object(ie.a)([this.rest.getTypeContract(),this.rest.getPeriodos(2),this.rest.getGender(),this.rest.getInstitutions(),this.rest.getLicenses()]).subscribe((function(r){r[0].success&&(e.typeContract=r[0].data),r[1].success&&(e.periodos=r[1].data),r[2].success&&(e.genders=r[2].data),r[3].success&&(e.instituciones=r[3].data),r[4].success&&(e.licenses=r[4].data),e.loadingCatalog=!1}),(function(e){}))}},{key:"onFormValuesChanged",value:function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var r=this.formGroup.get(e);r&&r.dirty&&!r.valid&&(this.formErrors[e]=r.errors)}}},{key:"submit",value:function(){var e=this;this.periodicIsQuincenal&&this.formGroup.get("Period_Start_Date").value>=this.formGroup.get("Period_End_Date").value?this.snackBar.openFromComponent(s.a,{data:{message:"ERROR FECHAS",subMessage:"La fecha de pago 1 no puede ser mayor a la fecha de pago 2",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500}):this.periodicIsQuincenal&&this.formGroup.get("Period_End_Date").value-this.formGroup.get("Period_Start_Date").value>15?this.snackBar.openFromComponent(s.a,{data:{message:"ERROR FECHAS",subMessage:"El lapso de las fechas de pago superan los 15 d\xedas",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500}):this.periodicIsQuincenal&&this.formGroup.get("Period_End_Date").value-this.formGroup.get("Period_Start_Date").value<14?this.snackBar.openFromComponent(s.a,{data:{message:"ERROR FECHAS",subMessage:"El lapso de las fechas de pago son menores a 15 d\xedas",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:3500}):(this.loading=!0,this.rest.createAccredited(this.formGroup.value).subscribe((function(r){r.success?(e.snackBar.openFromComponent(s.a,{data:{message:"EXITOSO",subMessage:r.message,type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.formGroup.reset()):e.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:r.message,type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1}),(function(r){e.loading=!1})))}},{key:"fetchIntituciones",value:function(){var e=this;this.rest.getInstitutions().subscribe((function(r){r.success&&(e.instituciones=r.data)}),(function(e){}))}},{key:"fetchGender",value:function(){var e=this;this.rest.getGender().subscribe((function(r){r.success&&(e.genders=r.data)}),(function(e){}))}},{key:"fetchPeriodo",value:function(){var e=this;this.rest.getPeriodos(2).subscribe((function(r){r.success&&(e.periodos=r.data)}),(function(e){}))}},{key:"fetchTypeContract",value:function(){var e=this;this.rest.getTypeContract().subscribe((function(r){r.success&&(e.typeContract=r.data)}),(function(e){}))}},{key:"changePeriodic",value:function(e){var r,t;"Quincenal"!==(null===(t=null===(r=this.periodos)||void 0===r?void 0:r.find((function(r){return r.id===e})))||void 0===t?void 0:t.description)?(this.formGroup.get("Period_End_Date").disable(),this.formGroup.get("Period_End_Date").clearValidators()):(this.formGroup.get("Period_End_Date").enable(),this.formGroup.get("Period_End_Date").setValidators([c.F.required]))}},{key:"periodicIsWeek",get:function(){var e,r,t=this;return"Semanal"===(null===(r=null===(e=this.periodos)||void 0===e?void 0:e.find((function(e){return e.id===t.formGroup.get("period_id").value})))||void 0===r?void 0:r.description)}},{key:"periodicIsQuincenal",get:function(){var e,r,t=this;return"Quincenal"===(null===(r=null===(e=this.periodos)||void 0===e?void 0:e.find((function(e){return e.id===t.formGroup.get("period_id").value})))||void 0===r?void 0:r.description)}}]),e}()).\u0275fac=function(e){return new(e||Ye)(l.Mb(v.a),l.Mb(c.f),l.Mb(m.b))},Ye.\u0275cmp=l.Gb({type:Ye,selectors:[["app-accredited"]],decls:231,vars:50,consts:[[1,"container"],["class","content-loading",4,"ngIf"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form",3,"formGroup"],[1,"label"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"p-r-12-5"],["appearance","outline"],["matInput","","formControlName","first_name"],[4,"ngIf"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"p-r-12-5","p-l-12-5"],["matInput","","formControlName","last_name"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"p-l-12-5"],["matInput","","formControlName","mail"],["matInput","","formControlName","Company_Name"],["matInput","","formControlName","identify"],["matInput","","formControlName","Outsourcing_Name"],["formControlName","type_contract_id"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"p-l-12-5","p-r-12-5"],["matInput","","formControlName","contract_number"],["matInput","","formControlName","position"],["matInput","","formControlName","net_monthly_salary","prefix","$","mask","separator","thousandSeparator",","],["matInput","","formControlName","gross_monthly_salary","prefix","$","mask","separator","thousandSeparator",","],["matInput","","formControlName","other_obligations","prefix","$","mask","separator","thousandSeparator",","],["formControlName","period_id",3,"selectionChange"],["formControlName","Period_Start_Date",4,"ngIf"],["formControlName","Period_End_Date"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"p-r-12-5"],["matInput","","formControlName","seniority_company"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"p-l-12-5"],["matInput","","formControlName","rfc"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-interes-rate"],["matInput","","formControlName","interest_rate","type","number"],["fxFlex","50","fxFlex.sm","100","fxFlex.xs","100",1,"p-r-12-5","p-l-12-5"],["matInput","","formControlName","moratoruim_interest_rate","type","number"],["matInput","","formControlName","birth_date",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerBirthday",""],["formControlName","gender_id"],["fxFlex","70","fxFlex.sm","100","fxFlex.xs","100",1,"p-r-12-5"],["matInput","","formControlName","address"],["fxFlex","30","fxFlex.sm","100","fxFlex.xs","100",1,"p-l-12-5"],["matInput","","formControlName","colony"],["matInput","","formControlName","municipality"],["matInput","","formControlName","zip_code"],["matInput","","formControlName","state"],["formControlName","institution_id"],["matInput","","formControlName","clabe"],["matInput","","formControlName","account_number"],["fxLayout","row","fxLayoutAlign","space-between"],["fxFlex","100"],["matInput","","formControlName","mail_mandate_latter"],["fxLayout","row","fxLayoutAlign","space-between center"],["formControlName","License_Id"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"content-loading"],[3,"value"],["formControlName","Period_Start_Date"]],template:function(e,r){if(1&e&&(l.Sb(0,"div",0),l.Hc(1,se,2,0,"div",1),l.Sb(2,"div",2),l.Sb(3,"h3",3),l.Jc(4,"Crear Acreditado"),l.Rb(),l.Nb(5,"span",4),l.Rb(),l.Sb(6,"div",5),l.Sb(7,"p",6),l.Jc(8,"DATOS GENERALES"),l.Rb(),l.Sb(9,"div",7),l.Sb(10,"div",8),l.Sb(11,"mat-form-field",9),l.Sb(12,"mat-label"),l.Jc(13,"Nombres"),l.Rb(),l.Nb(14,"input",10),l.Hc(15,le,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(16,"div",12),l.Sb(17,"mat-form-field",9),l.Sb(18,"mat-label"),l.Jc(19,"Apellidos"),l.Rb(),l.Nb(20,"input",13),l.Hc(21,ue,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(22,"div",14),l.Sb(23,"mat-form-field",9),l.Sb(24,"mat-label"),l.Jc(25,"Email"),l.Rb(),l.Nb(26,"input",15),l.Hc(27,me,2,0,"mat-error",11),l.Hc(28,de,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(29,"div",7),l.Sb(30,"div",8),l.Sb(31,"mat-form-field",9),l.Sb(32,"mat-label"),l.Jc(33,"Compa\xf1ia"),l.Rb(),l.Nb(34,"input",16),l.Hc(35,be,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(36,"div",12),l.Sb(37,"mat-form-field",9),l.Sb(38,"mat-label"),l.Jc(39,"ID"),l.Rb(),l.Nb(40,"input",17),l.Hc(41,pe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(42,"div",14),l.Sb(43,"mat-form-field",9),l.Sb(44,"mat-label"),l.Jc(45,"Outsourcing"),l.Rb(),l.Nb(46,"input",18),l.Hc(47,fe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(48,"div",7),l.Sb(49,"div",8),l.Sb(50,"mat-form-field",9),l.Sb(51,"mat-label"),l.Jc(52,"Tipo de contrataci\xf3n"),l.Rb(),l.Sb(53,"mat-select",19),l.Hc(54,ge,2,2,"mat-option",20),l.Rb(),l.Hc(55,he,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(56,"div",21),l.Sb(57,"mat-form-field",9),l.Sb(58,"mat-label"),l.Jc(59,"N\xfamero de contrato"),l.Rb(),l.Nb(60,"input",22),l.Hc(61,ve,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(62,"div",14),l.Sb(63,"mat-form-field",9),l.Sb(64,"mat-label"),l.Jc(65,"Cargo"),l.Rb(),l.Nb(66,"input",23),l.Hc(67,xe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(68,"div",7),l.Sb(69,"div",8),l.Sb(70,"mat-form-field",9),l.Sb(71,"mat-label"),l.Jc(72,"Sueldo mensual neto"),l.Rb(),l.Nb(73,"input",24),l.Hc(74,Se,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(75,"div",12),l.Sb(76,"mat-form-field",9),l.Sb(77,"mat-label"),l.Jc(78,"Sueldo mensual bruto"),l.Rb(),l.Nb(79,"input",25),l.Hc(80,Re,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(81,"div",14),l.Sb(82,"mat-form-field",9),l.Sb(83,"mat-label"),l.Jc(84,"Otras obligaciones"),l.Rb(),l.Nb(85,"input",26),l.Hc(86,ye,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(87,"div",7),l.Sb(88,"div",8),l.Sb(89,"mat-form-field",9),l.Sb(90,"mat-label"),l.Jc(91,"Periodicidad de Pago"),l.Rb(),l.Sb(92,"mat-select",27),l.ac("selectionChange",(function(e){return r.changePeriodic(e.value)})),l.Hc(93,ke,2,2,"mat-option",20),l.Rb(),l.Hc(94,Ee,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(95,"div",12),l.Sb(96,"mat-form-field",9),l.Sb(97,"mat-label"),l.Jc(98,"Fecha de Pago 1"),l.Rb(),l.Hc(99,Ie,2,1,"mat-select",28),l.Hc(100,Fe,2,1,"mat-select",28),l.Hc(101,Ne,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(102,"div",14),l.Sb(103,"mat-form-field",9),l.Sb(104,"mat-label"),l.Jc(105,"Fecha de Pago 2"),l.Rb(),l.Sb(106,"mat-select",29),l.Hc(107,ze,2,2,"mat-option",20),l.Rb(),l.Hc(108,Je,2,0,"mat-error",11),l.Hc(109,qe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(110,"div",7),l.Sb(111,"div",30),l.Sb(112,"mat-form-field",9),l.Sb(113,"mat-label"),l.Jc(114,"Antig\xfcedad en la compa\xf1ia"),l.Rb(),l.Nb(115,"input",31),l.Rb(),l.Rb(),l.Sb(116,"div",32),l.Sb(117,"mat-form-field",9),l.Sb(118,"mat-label"),l.Jc(119,"RFC"),l.Rb(),l.Nb(120,"input",33),l.Hc(121,we,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(122,"div",7),l.Sb(123,"div",34),l.Sb(124,"mat-form-field",9),l.Sb(125,"mat-label"),l.Jc(126,"Tasa de inter\xe9s (%)"),l.Rb(),l.Nb(127,"input",35),l.Hc(128,Ae,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(129,"div",36),l.Sb(130,"mat-form-field",9),l.Sb(131,"mat-label"),l.Jc(132,"Tasa de inter\xe9s moratoria (%)"),l.Rb(),l.Nb(133,"input",37),l.Hc(134,Le,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(135,"div",7),l.Sb(136,"div",30),l.Sb(137,"mat-form-field",9),l.Sb(138,"mat-label"),l.Jc(139,"Fecha de nacimiento"),l.Rb(),l.Nb(140,"input",38),l.Nb(141,"mat-datepicker-toggle",39),l.Nb(142,"mat-datepicker",null,40),l.Hc(144,Me,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(145,"div",32),l.Sb(146,"mat-form-field",9),l.Sb(147,"mat-label"),l.Jc(148,"Sexo"),l.Rb(),l.Sb(149,"mat-select",41),l.Hc(150,Pe,2,2,"mat-option",20),l.Rb(),l.Hc(151,De,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(152,"p",6),l.Jc(153,"DIRECCI\xd3N"),l.Rb(),l.Sb(154,"div",7),l.Sb(155,"div",42),l.Sb(156,"mat-form-field",9),l.Sb(157,"mat-label"),l.Jc(158,"Direcci\xf3n"),l.Rb(),l.Nb(159,"input",43),l.Hc(160,He,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(161,"div",44),l.Sb(162,"mat-form-field",9),l.Sb(163,"mat-label"),l.Jc(164,"Colonia"),l.Rb(),l.Nb(165,"input",45),l.Hc(166,Oe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(167,"div",7),l.Sb(168,"div",8),l.Sb(169,"mat-form-field",9),l.Sb(170,"mat-label"),l.Jc(171,"Delegaci\xf3n o Municipio"),l.Rb(),l.Nb(172,"input",46),l.Hc(173,Ge,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(174,"div",21),l.Sb(175,"mat-form-field",9),l.Sb(176,"mat-label"),l.Jc(177,"Codigo Postal"),l.Rb(),l.Nb(178,"input",47),l.Hc(179,Be,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(180,"div",14),l.Sb(181,"mat-form-field",9),l.Sb(182,"mat-label"),l.Jc(183,"Estado"),l.Rb(),l.Nb(184,"input",48),l.Hc(185,Te,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(186,"p",6),l.Jc(187,"DATOS BANCARIOS"),l.Rb(),l.Sb(188,"div",7),l.Sb(189,"div",8),l.Sb(190,"mat-form-field",9),l.Sb(191,"mat-label"),l.Jc(192,"Banco"),l.Rb(),l.Sb(193,"mat-select",49),l.Hc(194,Ue,2,2,"mat-option",20),l.Rb(),l.Hc(195,Ve,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(196,"div",21),l.Sb(197,"mat-form-field",9),l.Sb(198,"mat-label"),l.Jc(199,"CLABE interbancaria (18 digitos)"),l.Rb(),l.Nb(200,"input",50),l.Hc(201,$e,2,0,"mat-error",11),l.Hc(202,Qe,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Sb(203,"div",14),l.Sb(204,"mat-form-field",9),l.Sb(205,"mat-label"),l.Jc(206,"N\xfamero de cuenta"),l.Rb(),l.Nb(207,"input",51),l.Hc(208,je,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(209,"p",6),l.Jc(210,"NOTIFICACI\xd3N MAIL"),l.Rb(),l.Sb(211,"div",52),l.Sb(212,"div",53),l.Sb(213,"mat-form-field",9),l.Sb(214,"mat-label"),l.Jc(215,"Email"),l.Rb(),l.Nb(216,"input",54),l.Hc(217,Ke,2,0,"mat-error",11),l.Hc(218,We,2,0,"mat-error",11),l.Rb(),l.Rb(),l.Rb(),l.Sb(219,"p",6),l.Jc(220,"LICENCIA"),l.Rb(),l.Sb(221,"div",55),l.Sb(222,"div",53),l.Sb(223,"mat-form-field",9),l.Sb(224,"mat-label"),l.Jc(225,"Email"),l.Rb(),l.Sb(226,"mat-select",56),l.Hc(227,Xe,2,2,"mat-option",20),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(228,"div",57),l.Sb(229,"button",58),l.ac("click",(function(){return r.submit()})),l.Jc(230,"CREAR ACREDITADO"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e){var t=l.uc(143);l.zb(1),l.kc("ngIf",r.loadingCatalog),l.zb(2),l.kc("ngStyle",l.nc(49,er)),l.zb(3),l.kc("formGroup",r.formGroup),l.zb(9),l.kc("ngIf",r.formErrors.first_name.required),l.zb(6),l.kc("ngIf",r.formErrors.last_name.required),l.zb(6),l.kc("ngIf",null==r.formErrors.mail?null:r.formErrors.mail.required),l.zb(1),l.kc("ngIf",!(null!=r.formErrors&&null!=r.formErrors.mail&&r.formErrors.mail.required)&&(null==r.formErrors||null==r.formErrors.mail?null:r.formErrors.mail.email)),l.zb(7),l.kc("ngIf",r.formErrors.Company_Name.required),l.zb(6),l.kc("ngIf",r.formErrors.identify.required),l.zb(6),l.kc("ngIf",r.formErrors.Outsourcing_Name.required),l.zb(7),l.kc("ngForOf",r.typeContract),l.zb(1),l.kc("ngIf",r.formErrors.type_contract_id.required),l.zb(6),l.kc("ngIf",r.formErrors.contract_number.required),l.zb(6),l.kc("ngIf",r.formErrors.position.required),l.zb(7),l.kc("ngIf",r.formErrors.net_monthly_salary.required),l.zb(6),l.kc("ngIf",r.formErrors.gross_monthly_salary.required),l.zb(6),l.kc("ngIf",r.formErrors.other_obligations.required),l.zb(7),l.kc("ngForOf",r.periodos),l.zb(1),l.kc("ngIf",r.formErrors.period_id.required),l.zb(5),l.kc("ngIf",!r.periodicIsWeek),l.zb(1),l.kc("ngIf",r.periodicIsWeek),l.zb(1),l.kc("ngIf",null==r.formErrors.Period_Start_Date?null:r.formErrors.Period_Start_Date.maxValue),l.zb(6),l.kc("ngForOf",r.daysInMonth),l.zb(1),l.kc("ngIf",null==r.formErrors.Period_End_Date?null:r.formErrors.Period_End_Date.required),l.zb(1),l.kc("ngIf",null==r.formErrors.Period_End_Date?null:r.formErrors.Period_End_Date.maxValue),l.zb(12),l.kc("ngIf",r.formErrors.rfc.required),l.zb(7),l.kc("ngIf",r.formErrors.interest_rate.required),l.zb(6),l.kc("ngIf",r.formErrors.moratoruim_interest_rate.required),l.zb(6),l.kc("matDatepicker",t),l.zb(1),l.kc("for",t),l.zb(3),l.kc("ngIf",r.formErrors.birth_date.required),l.zb(6),l.kc("ngForOf",r.genders),l.zb(1),l.kc("ngIf",r.formErrors.gender_id.required),l.zb(9),l.kc("ngIf",r.formErrors.address.required),l.zb(6),l.kc("ngIf",r.formErrors.colony.required),l.zb(7),l.kc("ngIf",r.formErrors.municipality.required),l.zb(6),l.kc("ngIf",r.formErrors.zip_code.required),l.zb(6),l.kc("ngIf",r.formErrors.state.required),l.zb(9),l.kc("ngForOf",r.instituciones),l.zb(1),l.kc("ngIf",r.formErrors.institution_id.required),l.zb(6),l.kc("ngIf",r.formErrors.clabe.required),l.zb(1),l.kc("ngIf",r.formErrors.clabe.minlength),l.zb(6),l.kc("ngIf",r.formErrors.account_number.required),l.zb(9),l.kc("ngIf",null==r.formErrors.mail_mandate_latter?null:r.formErrors.mail_mandate_latter.required),l.zb(1),l.kc("ngIf",!(null!=r.formErrors&&null!=r.formErrors.mail_mandate_latter&&r.formErrors.mail_mandate_latter.required)&&(null==r.formErrors||null==r.formErrors.mail_mandate_latter?null:r.formErrors.mail_mandate_latter.email)),l.zb(9),l.kc("ngForOf",r.licenses),l.zb(2),l.Db("spinner",r.loading),l.kc("disabled",r.formGroup.invalid||r.loading)}},directives:[n.t,n.w,x.d,c.s,c.j,S.f,S.e,S.b,d.b,d.f,b.b,c.c,c.r,c.i,f.a,n.s,R.a,c.x,p.f,p.h,d.i,p.d,h.b,ce.c,d.a,y.p],styles:['app-accredited .container{padding:0;position:relative}@media (max-width:959px){app-accredited .container{margin-top:25px}}app-accredited .container .title{margin-bottom:25px}app-accredited .container .title h3{margin:0;color:#41434c;font-size:20px}app-accredited .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-accredited .container .content-form .label{color:#41434c;font-weight:700;font-size:12px}app-accredited .container .content-form .inpu-age,app-accredited .container .content-form .inpu-birthday,app-accredited .container .content-form .inpu-clave,app-accredited .container .content-form .inpu-company,app-accredited .container .content-form .inpu-interes-rate,app-accredited .container .content-form .inpu-intitution,app-accredited .container .content-form .inpu-last-name,app-accredited .container .content-form .inpu-name,app-accredited .container .content-form .inpu-position,app-accredited .container .content-form .inpu-seniority-company,app-accredited .container .content-form .p-r-12-5{padding-right:12.5px}@media (max-width:959px){app-accredited .container .content-form .inpu-age,app-accredited .container .content-form .inpu-birthday,app-accredited .container .content-form .inpu-clave,app-accredited .container .content-form .inpu-company,app-accredited .container .content-form .inpu-interes-rate,app-accredited .container .content-form .inpu-intitution,app-accredited .container .content-form .inpu-last-name,app-accredited .container .content-form .inpu-name,app-accredited .container .content-form .inpu-position,app-accredited .container .content-form .inpu-seniority-company,app-accredited .container .content-form .p-r-12-5{padding-right:0}}app-accredited .container .content-form .inpu-account-number,app-accredited .container .content-form .inpu-age,app-accredited .container .content-form .inpu-clave,app-accredited .container .content-form .inpu-email,app-accredited .container .content-form .inpu-gender,app-accredited .container .content-form .inpu-last-name,app-accredited .container .content-form .inpu-monatoruim-interes,app-accredited .container .content-form .inpu-position,app-accredited .container .content-form .inpu-rfc,app-accredited .container .content-form .p-l-12-5{padding-left:12.5px}@media (max-width:959px){app-accredited .container .content-form .inpu-account-number,app-accredited .container .content-form .inpu-age,app-accredited .container .content-form .inpu-clave,app-accredited .container .content-form .inpu-email,app-accredited .container .content-form .inpu-gender,app-accredited .container .content-form .inpu-last-name,app-accredited .container .content-form .inpu-monatoruim-interes,app-accredited .container .content-form .inpu-position,app-accredited .container .content-form .inpu-rfc,app-accredited .container .content-form .p-l-12-5{padding-left:0}}app-accredited .container .content-form mat-form-field{width:100%}app-accredited .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-accredited .container .content-form .content-button{margin-top:10px}app-accredited .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-accredited .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-accredited .content-loading{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);z-index:101}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),Ye),tr=function(){return{"font-family":"MontserratBold"}},nr=function(e,r){return{active:e,inactive:r}},or=((Ze=function(){function e(r){_classCallCheck(this,e),this.router=r}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goTo",value:function(e){this.router.navigate([e])}},{key:"activeMenu",value:function(e){return this.router.url.includes(e)}},{key:"isIndex",value:function(){return"/users/create-users"===this.router.url}}]),e}()).\u0275fac=function(e){return new(e||Ze)(l.Mb(a.d))},Ze.\u0275cmp=l.Gb({type:Ze,selectors:[["app-create-users"]],decls:31,vars:26,consts:[[1,"container","module-container",2,"overflow","auto"],[1,"content-breadcrumbs"],[3,"ngStyle"],[1,"breadcrumbs"],[1,"content-forms","mat-elevation-z3"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between"],["fxFlex","20"],[1,"content-options"],[1,"option"],["mat-flat-button","","color","accent",3,"ngClass","click"],["fxFlex","80"],[1,"content-child"]],template:function(e,r){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h1",2),l.Jc(3,"Usuarios"),l.Rb(),l.Sb(4,"div",3),l.Jc(5,"SNAC > Usuarios > Crear usuario"),l.Rb(),l.Rb(),l.Sb(6,"div",4),l.Sb(7,"div",5),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"div",8),l.Sb(11,"button",9),l.ac("click",(function(){return r.goTo("users/create-users/license")})),l.Jc(12,"Crear Licencia"),l.Rb(),l.Rb(),l.Sb(13,"div",8),l.Sb(14,"button",9),l.ac("click",(function(){return r.goTo("users/create-users")})),l.Jc(15,"Crear Inversionista"),l.Rb(),l.Rb(),l.Sb(16,"div",8),l.Sb(17,"button",9),l.ac("click",(function(){return r.goTo("users/create-users/accredited")})),l.Jc(18,"Crear Acreditado"),l.Rb(),l.Rb(),l.Sb(19,"div",8),l.Sb(20,"button",9),l.ac("click",(function(){return r.goTo("users/create-users/administrator")})),l.Jc(21,"Crear Administrador"),l.Rb(),l.Rb(),l.Sb(22,"div",8),l.Sb(23,"button",9),l.ac("click",(function(){return r.goTo("users/create-users/group-users")})),l.Jc(24,"Crear Grupo de Usuarios"),l.Rb(),l.Rb(),l.Sb(25,"div",8),l.Sb(26,"button",9),l.ac("click",(function(){return r.goTo("users/create-users/group-snac")})),l.Jc(27,"Cargar Empleados SNAC"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(28,"div",10),l.Sb(29,"div",11),l.Nb(30,"router-outlet"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(2),l.kc("ngStyle",l.nc(7,tr)),l.zb(9),l.kc("ngClass",l.pc(8,nr,r.activeMenu("license"),!r.activeMenu("license"))),l.zb(3),l.kc("ngClass",l.pc(11,nr,r.isIndex(),!r.isIndex())),l.zb(3),l.kc("ngClass",l.pc(14,nr,r.activeMenu("accredited"),!r.activeMenu("accredited"))),l.zb(3),l.kc("ngClass",l.pc(17,nr,r.activeMenu("administrator"),!r.activeMenu("administrator"))),l.zb(3),l.kc("ngClass",l.pc(20,nr,r.activeMenu("group-users"),!r.activeMenu("group-users"))),l.zb(3),l.kc("ngClass",l.pc(23,nr,r.activeMenu("group-snac"),!r.activeMenu("group-snac"))))},directives:[n.w,x.d,S.f,S.e,S.b,h.b,n.q,x.a,a.i],styles:["app-create-users .container{padding:25px}app-create-users .container .content-breadcrumbs h1{color:#41434c;font-size:27px}app-create-users .container .content-forms{margin-top:25px;background-color:#fff;border-radius:10px;padding:20px}app-create-users .container .content-forms .content-options .option{text-align:center;margin:10px 0}app-create-users .container .content-forms .content-options .option:first-child{margin-top:0}app-create-users .container .content-forms .content-options .option .mat-flat-button{min-width:205px}app-create-users .container .content-forms .content-options .option .inactive{background-color:#dee3ed;color:#8e91a2}"],encapsulation:2}),Ze),ar=t("7QPh"),ir=t("ZtiS"),cr=["boxInput"],sr=["inputFile"];function lr(e,r){if(1&e&&(l.Sb(0,"mat-option",20),l.Jc(1),l.Rb()),2&e){var t=r.$implicit;l.kc("value",t.id),l.zb(1),l.Lc(" ",t.description," ")}}function ur(e,r){if(1&e&&(l.Sb(0,"div",21),l.Nb(1,"p",22),l.Rb()),2&e){var t=l.ec();l.zb(1),l.kc("innerHTML",t.errors,l.zc)}}var mr,dr=function(){return{"font-family":"MontserratBold"}},br=((mr=function(){function e(r,t,n,o){_classCallCheck(this,e),this.matIconRegistry=r,this.domSanitizer=t,this.rest=n,this.snackBar=o,this.typeUser=1,this.loading=!1,this.errors="",this.companies=[],this.selectedCompany=null,this.labelInput="Arrasta y suelta o haz click para buscar en tu equipo el archivo .CSV",this.matIconRegistry.addSvgIcon("logoUpload",this.domSanitizer.bypassSecurityTrustResourceUrl("../../../../../assets/icons/ico-subir-archivo.svg")),this.getComopanies()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.boxInput.nativeElement.addEventListener("click",(function(r){e.inputFile.nativeElement.click()})),this.inputFile.nativeElement.addEventListener("change",(function(r){e.deleteDefaultEvent(r);var t=r.target.files;if(t.length>0){e.labelInput=t[0].name;var n=new FileReader;n.onload=function(r){var t=new Uint8Array(n.result);e.arrayBuffer=_toConsumableArray(t)},n.readAsArrayBuffer(t[0])}})),this.boxInput.nativeElement.addEventListener("drag",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragstart",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragend",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragover",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragenter",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("dragleave",(function(r){e.deleteDefaultEvent(r)})),this.boxInput.nativeElement.addEventListener("drop",(function(r){e.deleteDefaultEvent(r);var t=r.dataTransfer.files;if(t.length>0){e.labelInput=t[0].name;var n=new FileReader;n.onload=function(r){var t=new Uint8Array(n.result);e.arrayBuffer=_toConsumableArray(t)},n.readAsArrayBuffer(t[0])}}))}},{key:"getComopanies",value:function(){var e=this;this.rest.getCompanies().subscribe((function(r){e.companies=r.data}))}},{key:"deleteDefaultEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"submit",value:function(){var e=this;this.loading=!0,this.rest.groupSnac(this.arrayBuffer,this.selectedCompany).subscribe((function(r){e.snackBar.openFromComponent(s.a,r.success?{data:{message:"EXITOSO",subMessage:"Usuarios Registrados",type:"success"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}:{data:{message:"ERROR",subMessage:"Verifique el archivo",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1,e.errors=r.message.replace(/\n/g,"<br>")}),(function(r){e.snackBar.openFromComponent(s.a,{data:{message:"ERROR",subMessage:"Verifica el archivo",type:"error"},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500}),e.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||mr)(l.Mb(D.c),l.Mb(H.b),l.Mb(v.a),l.Mb(m.b))},mr.\u0275cmp=l.Gb({type:mr,selectors:[["app-group-snac"]],viewQuery:function(e,r){var t;1&e&&(l.Oc(cr,!0),l.Oc(sr,!0)),2&e&&(l.tc(t=l.bc())&&(r.boxInput=t.first),l.tc(t=l.bc())&&(r.inputFile=t.first))},decls:26,vars:9,consts:[[1,"container"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form"],[1,"company"],["fxFlex","50",2,"padding-left","12.5px"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"content-upload-file"],[1,"box-input"],["boxInput",""],["svgIcon","logoUpload",1,"icon-upload"],["type","file","id","file",1,"input-file"],["inputFile",""],["for","file"],["class","content-error",4,"ngIf"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"content-error"],[3,"innerHTML"]],template:function(e,r){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Jc(3,"Cargar Empleados SNAC"),l.Rb(),l.Nb(4,"span",3),l.Rb(),l.Sb(5,"div",4),l.Sb(6,"div",5),l.Sb(7,"div",6),l.Sb(8,"mat-form-field",7),l.Sb(9,"mat-label"),l.Jc(10,"Empresa"),l.Rb(),l.Sb(11,"mat-select",8),l.ac("ngModelChange",(function(e){return r.selectedCompany=e})),l.Hc(12,lr,2,2,"mat-option",9),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(13,"div",10),l.Sb(14,"div",11,12),l.Nb(16,"mat-icon",13),l.Nb(17,"br"),l.Nb(18,"input",14,15),l.Sb(20,"label",16),l.Jc(21),l.Rb(),l.Rb(),l.Rb(),l.Hc(22,ur,2,1,"div",17),l.Sb(23,"div",18),l.Sb(24,"button",19),l.ac("click",(function(){return r.submit()})),l.Jc(25,"CARGAR"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.zb(2),l.kc("ngStyle",l.nc(8,dr)),l.zb(9),l.kc("ngModel",r.selectedCompany),l.zb(1),l.kc("ngForOf",r.companies),l.zb(9),l.Kc(r.labelInput),l.zb(1),l.kc("ngIf",!!r.errors),l.zb(2),l.Db("spinner",r.loading),l.kc("disabled",r.loading||!(r.selectedCompany>0)))},directives:[n.w,x.d,S.b,d.b,d.f,f.a,c.r,c.u,n.s,D.a,n.t,h.b,y.p],styles:['app-group-snac .container{padding:0}@media (max-width:959px){app-group-snac .container{margin-top:25px}}app-group-snac .container .title{margin-bottom:25px}app-group-snac .container .title h3{margin:0;color:#41434c;font-size:20px}app-group-snac .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-group-snac .container .content-form .label{color:#41434c;font-weight:700;font-size:12px}app-group-snac .container .content-form .content-upload-file .box-input{text-align:center;outline:2px dashed #92b0b3;outline-offset:-10px;transition:outline-offset .15s ease-in-out,background-color .15s linear;font-size:1.25rem;position:relative;padding:100px 20px}app-group-snac .container .content-form .content-upload-file .box-input label{color:#a6a6a6;font-size:15px}app-group-snac .container .content-form .content-upload-file .box-input .input-file{opacity:0;overflow:hidden;position:absolute;z-index:-1}app-group-snac .container .content-form .content-upload-file .box-input .icon-upload{display:contents;color:#32379e}app-group-snac .container .content-form .content-upload-file .box-input .icon-upload svg{width:100px;height:100px}app-group-snac .container .content-form mat-form-field{min-width:230px}@media (max-width:959px){app-group-snac .container .content-form mat-form-field{width:100%}}app-group-snac .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-group-snac .container .content-form .content-button{margin-top:10px}app-group-snac .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-group-snac .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-group-snac .content-error{color:red}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),mr);t("wd/R");var pr=t("1yaQ"),fr=t("RiJK");function gr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El centro de costo es requerido "),l.Rb())}function hr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El nombre es requerido "),l.Rb())}function vr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Responsable es requerido "),l.Rb())}function xr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El Numero de contrato es requerido "),l.Rb())}function Sr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," La fecha de pago es requerido "),l.Rb())}function Rr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," El numero de licencia es requerido "),l.Rb())}function yr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Ingrese una cuenta valida "),l.Rb())}function kr(e,r){1&e&&(l.Sb(0,"mat-error"),l.Jc(1," Ingrese un email con un formato valido "),l.Rb())}function Er(e,r){if(1&e&&(l.Sb(0,"mat-error"),l.Jc(1),l.Rb()),2&e){var t=l.ec().$implicit,n=l.ec();l.zb(1),l.Lc(" ",n.errorInPrice(t,"InitialQuantity")," ")}}function Cr(e,r){if(1&e&&(l.Sb(0,"mat-error"),l.Jc(1),l.Rb()),2&e){var t=l.ec().$implicit,n=l.ec();l.zb(1),l.Lc(" ",n.errorInPrice(t,"FinalQuantity")," ")}}function Ir(e,r){if(1&e&&(l.Sb(0,"mat-error"),l.Jc(1),l.Rb()),2&e){var t=l.ec().$implicit,n=l.ec();l.zb(1),l.Lc(" ",n.errorInPrice(t,"Cost")," ")}}function _r(e,r){if(1&e){var t=l.Tb();l.Sb(0,"button",38),l.ac("click",(function(){l.yc(t);var e=l.ec().index;return l.ec().deletePrice(e)})),l.Sb(1,"mat-icon"),l.Jc(2,"delete"),l.Rb(),l.Rb()}}function Fr(e,r){if(1&e){var t=l.Tb();l.Sb(0,"button",39),l.ac("click",(function(){return l.yc(t),l.ec(2).addPrices()})),l.Sb(1,"mat-icon"),l.Jc(2,"add"),l.Rb(),l.Rb()}}function Nr(e,r){if(1&e&&(l.Sb(0,"div",30),l.Sb(1,"div",31),l.Sb(2,"mat-form-field",8),l.Sb(3,"mat-label"),l.Jc(4,"Cantidad Inicial"),l.Rb(),l.Nb(5,"input",32),l.Hc(6,Er,2,1,"mat-error",10),l.Rb(),l.Rb(),l.Sb(7,"div",31),l.Sb(8,"mat-form-field",8),l.Sb(9,"mat-label"),l.Jc(10,"Cantidad Final"),l.Rb(),l.Nb(11,"input",33),l.Hc(12,Cr,2,1,"mat-error",10),l.Rb(),l.Rb(),l.Sb(13,"div",31),l.Sb(14,"mat-form-field",8),l.Sb(15,"mat-label"),l.Jc(16,"Costo"),l.Rb(),l.Nb(17,"input",34),l.Hc(18,Ir,2,1,"mat-error",10),l.Rb(),l.Rb(),l.Sb(19,"div",35),l.Hc(20,_r,3,0,"button",36),l.Hc(21,Fr,3,0,"button",37),l.Rb(),l.Rb()),2&e){var t=r.$implicit,n=r.index,o=l.ec();l.kc("formGroup",t),l.zb(6),l.kc("ngIf",null!=o.errorInPrice(t,"InitialQuantity")),l.zb(6),l.kc("ngIf",null!=o.errorInPrice(t,"FinalQuantity")),l.zb(6),l.kc("ngIf",null!=o.errorInPrice(t,"Cost")),l.zb(2),l.kc("ngIf",n+1!=o.priceArray.controls.length),l.zb(1),l.kc("ngIf",n+1==o.priceArray.controls.length)}}var zr,Jr,qr,wr=function(){return{"font-family":"MontserratBold"}},Ar=[{path:"",component:or,children:[{path:"",component:P},{path:"accredited",component:rr},{path:"administrator",component:ae},{path:"group-users",component:j},{path:"group-snac",component:br},{path:"license",component:(zr=function(){function e(r,t,n,o){var a=this;_classCallCheck(this,e),this.dialog=r,this.rest=t,this.formBuild=n,this.snackBar=o,this.loading=!1,this.formErrors={CostCenter:{},Name:{},NamePersonCharge:{},ContractNumber:{},LicenseNumber:{},DatePayment:{},Mail:{}},this.formGroup=this.formBuild.group({CostCenter:["",c.F.required],Name:["",c.F.required],NamePersonCharge:["",c.F.required],ContractNumber:["",c.F.required],LicenseNumber:[{value:this.generateUUID(),disabled:!0}],DatePayment:["",c.F.required],Mail:["",[c.F.required,c.F.email]],Prices:this.formBuild.array([]),ModelPrestaqi:[!1],OriginatorAccount:["",c.F.required]}),this.formGroup.valueChanges.subscribe((function(){a.onFormValuesChanged()})),this.addPrices()}return _createClass(e,[{key:"onFormValuesChanged",value:function(){for(var e in this.formErrors)if(this.formErrors.hasOwnProperty(e)){this.formErrors[e]={};var r=this.formGroup.get(e);r&&r.dirty&&!r.valid&&(this.formErrors[e]=r.errors)}}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===r?t:3&t|8).toString(16)}))}},{key:"sumit",value:function(){var e=this;this.loading=!0,this.formGroup.get("LicenseNumber").enable(),this.rest.createLicense(this.formGroup.value).subscribe((function(r){if(r.success){for(e.showAlert("EXITOSO",r.message,"success"),e.formGroup.reset();0!==e.priceArray.length;)e.priceArray.removeAt(0);e.addPrices(),e.formGroup.get("LicenseNumber").setValue(e.generateUUID())}else e.showAlert("ERROR",r.message,"error");e.formGroup.get("LicenseNumber").disable(),e.loading=!1}),(function(r){e.formGroup.get("LicenseNumber").disable(),e.loading=!1,e.showAlert("ERROR","Ocurrio un error inesperado por favor intentelo mas tarde","error")}))}},{key:"showAlert",value:function(e,r,t){this.snackBar.openFromComponent(s.a,{data:{message:e,subMessage:r,type:t},panelClass:"snack-message",horizontalPosition:"right",verticalPosition:"top",duration:2500})}},{key:"getFielForm",value:function(e){return this.formGroup.get(e)}},{key:"addPrices",value:function(){this.priceArray.push(this.formBuild.group({InitialQuantity:["",fr.b],FinalQuantity:["",fr.b],Cost:["",[c.F.required,fr.a]],LicenseId:[""]}))}},{key:"deletePrice",value:function(e){this.priceArray.controls.splice(e,1)}},{key:"errorInPrice",value:function(e,r){var t=e.get(r);return t.hasError("required")||t.hasError("isNotNumber")||t.hasError("min")?"el valor no es valido":null}},{key:"priceArray",get:function(){return this.formGroup.get("Prices")}}]),e}(),zr.\u0275fac=function(e){return new(e||zr)(l.Mb(u.b),l.Mb(v.a),l.Mb(c.f),l.Mb(m.b))},zr.\u0275cmp=l.Gb({type:zr,selectors:[["app-license"]],features:[l.yb([{provide:y.c,useClass:pr.b,deps:[y.g,pr.a]},{provide:y.f,useValue:{parse:{dateInput:"DD/MM"},display:{dateInput:"DD/MM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}])],decls:73,vars:17,consts:[[1,"container"],[1,"title"],[3,"ngStyle"],[1,"line"],[1,"content-form",3,"formGroup"],[1,"label"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between","fxLayoutGap","24px"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100"],["appearance","outline"],["matInput","","formControlName","CostCenter"],[4,"ngIf"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-name"],["matInput","","formControlName","Name"],["fxFlex","33","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-last-name"],["matInput","","formControlName","NamePersonCharge"],["matInput","","formControlName","ContractNumber"],["matInput","","placeholder","D\xeda y Mes","formControlName","DatePayment",3,"matDatepicker"],["matSuffix","",3,"for"],["startView","year","panelClass","example-month-picker"],["dp",""],["matInput","","formControlName","LicenseNumber"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","start center","fxLayoutGap","24px"],["matInput","","formControlName","OriginatorAccount"],["matInput","","formControlName","Mail","type","email"],[1,"content-type-person"],["formControlName","ModelPrestaqi"],[1,"label","mt-24"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between center","fxLayoutGap","24px",3,"formGroup",4,"ngFor","ngForOf"],[1,"content-button"],["mat-flat-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-between center","fxLayoutGap","24px",3,"formGroup"],["fxFlex","30","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-name"],["matInput","","formControlName","InitialQuantity"],["matInput","","formControlName","FinalQuantity","type","email"],["matInput","","formControlName","Cost","type","email"],["fxFlex","10","fxFlex.sm","100","fxFlex.xs","100",1,"inpu-name"],["mat-fab","","color","warn","class","mb-24 add-intervalos",3,"click",4,"ngIf"],["mat-fab","","color","accent","class","mb-24 add-intervalos",3,"click",4,"ngIf"],["mat-fab","","color","warn",1,"mb-24","add-intervalos",3,"click"],["mat-fab","","color","accent",1,"mb-24","add-intervalos",3,"click"]],template:function(e,r){if(1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Jc(3,"Crear Licencia"),l.Rb(),l.Nb(4,"span",3),l.Rb(),l.Sb(5,"div",4),l.Sb(6,"p",5),l.Jc(7,"DATOS GENERALES"),l.Rb(),l.Sb(8,"div",6),l.Sb(9,"div",7),l.Sb(10,"mat-form-field",8),l.Sb(11,"mat-label"),l.Jc(12,"Centro de Costo"),l.Rb(),l.Nb(13,"input",9),l.Hc(14,gr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(15,"div",11),l.Sb(16,"mat-form-field",8),l.Sb(17,"mat-label"),l.Jc(18,"Nombre"),l.Rb(),l.Nb(19,"input",12),l.Hc(20,hr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(21,"div",13),l.Sb(22,"mat-form-field",8),l.Sb(23,"mat-label"),l.Jc(24,"Nombre del Responsable"),l.Rb(),l.Nb(25,"input",14),l.Hc(26,vr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(27,"div",6),l.Sb(28,"div",11),l.Sb(29,"mat-form-field",8),l.Sb(30,"mat-label"),l.Jc(31,"N\xfamero de contrato"),l.Rb(),l.Nb(32,"input",15),l.Hc(33,xr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(34,"div",7),l.Sb(35,"mat-form-field",8),l.Sb(36,"mat-label"),l.Jc(37,"Fecha de pago (DD/MM)"),l.Rb(),l.Nb(38,"input",16),l.Nb(39,"mat-datepicker-toggle",17),l.Nb(40,"mat-datepicker",18,19),l.Hc(42,Sr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(43,"div",11),l.Sb(44,"mat-form-field",8),l.Sb(45,"mat-label"),l.Jc(46,"Numero de Licencia"),l.Rb(),l.Nb(47,"input",20),l.Hc(48,Rr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Rb(),l.Sb(49,"div",21),l.Sb(50,"div",7),l.Sb(51,"mat-form-field",8),l.Sb(52,"mat-label"),l.Jc(53,"Cuenta Origen (STP)"),l.Rb(),l.Nb(54,"input",22),l.Hc(55,yr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Sb(56,"div",11),l.Sb(57,"mat-form-field",8),l.Sb(58,"mat-label"),l.Jc(59,"Correo Electr\xf3nico"),l.Rb(),l.Nb(60,"input",23),l.Hc(61,kr,2,0,"mat-error",10),l.Rb(),l.Rb(),l.Nb(62,"div",11),l.Rb(),l.Sb(63,"div",24),l.Sb(64,"mat-checkbox",25),l.Jc(65," Modelo Prestaqi "),l.Rb(),l.Rb(),l.Sb(66,"p",26),l.Jc(67,"INTERVALOS DE PRECIOS"),l.Rb(),l.Hc(68,Nr,22,6,"div",27),l.Nb(69,"br"),l.Sb(70,"div",28),l.Sb(71,"button",29),l.ac("click",(function(){return r.sumit()})),l.Jc(72,"CREAR LICENCIA"),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e){var t=l.uc(41);l.zb(2),l.kc("ngStyle",l.nc(16,wr)),l.zb(3),l.kc("formGroup",r.formGroup),l.zb(9),l.kc("ngIf",r.formErrors.CostCenter.required),l.zb(6),l.kc("ngIf",r.formErrors.Name.required),l.zb(6),l.kc("ngIf",r.formErrors.NamePersonCharge.required),l.zb(7),l.kc("ngIf",r.formErrors.ContractNumber.required),l.zb(5),l.kc("matDatepicker",t),l.zb(1),l.kc("for",t),l.zb(3),l.kc("ngIf",r.formErrors.DatePayment.required),l.zb(6),l.kc("ngIf",r.formErrors.LicenseNumber.required),l.zb(7),l.kc("ngIf",r.getFielForm("OriginatorAccount").invalid),l.zb(6),l.kc("ngIf",r.getFielForm("Mail").invalid),l.zb(7),l.kc("ngForOf",r.priceArray.controls),l.zb(3),l.Db("spinner",r.loading),l.kc("disabled",r.formGroup.invalid||r.loading)}},directives:[n.w,x.d,c.s,c.j,S.f,S.e,S.g,S.b,d.b,d.f,b.b,c.c,c.r,c.i,n.t,p.f,p.h,d.i,p.d,g.a,n.s,h.b,d.a,D.a],styles:['app-license .container{padding:0}@media (max-width:959px){app-license .container{margin-top:25px}}app-license .container .title{margin-bottom:25px}app-license .container .title h3{margin:0;color:#41434c;font-size:20px}app-license .container .title .line{background-color:#65bcb5;width:78px;height:5px;display:block;border-radius:5px}app-license .container .content-form .label{color:#006;font-weight:700;font-size:12px}app-license .container .content-form mat-form-field{width:100%}app-license .container .content-form .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{padding-top:11px}app-license .container .content-form .content-button{margin-top:10px}app-license .container .content-form .content-button .mat-flat-button{width:100%;border-radius:24px;padding:4px 0}app-license .container .content-form .content-button .spinner:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:90%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#41434c;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}app-license .container .content-form .add-intervalos mat-icon{color:#fff}@-webkit-keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@keyframes giro{0%{transform:rotate(0deg);border-radius:50%}50%{border-radius:20%}to{border-radius:50%;transform:rotate(1turn)}}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}'],encapsulation:2}),zr)}],canActivate:[ar.a,ir.a],data:{roles:["Administrador"]}}],Lr=((qr=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:qr}),qr.\u0275inj=l.Jb({factory:function(e){return new(e||qr)},imports:[[a.h.forChild(Ar)],a.h]}),qr),Mr=((Jr=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:Jr}),Jr.\u0275inj=l.Jb({factory:function(e){return new(e||Jr)},providers:[v.a],imports:[[n.c,o.a,Lr]]}),Jr)}}]);